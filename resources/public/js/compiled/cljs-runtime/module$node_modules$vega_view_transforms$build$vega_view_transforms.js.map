{
"version":3,
"file":"module$node_modules$vega_view_transforms$build$vega_view_transforms.js",
"lineCount":47,
"mappings":"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",
"sources":["node_modules/vega-view-transforms/build/vega-view-transforms.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_view_transforms$build$vega_view_transforms\"] = function(global,require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('vega-dataflow'), require('vega-scenegraph'), require('vega-util')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'vega-dataflow', 'vega-scenegraph', 'vega-util'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.vega = global.vega || {}, global.vega.transforms = {}), global.vega, global.vega, global.vega));\n})(this, (function (exports, vegaDataflow, vegaScenegraph, vegaUtil) { 'use strict';\n\n  const Top = 'top';\n  const Left = 'left';\n  const Right = 'right';\n  const Bottom = 'bottom';\n  const TopLeft = 'top-left';\n  const TopRight = 'top-right';\n  const BottomLeft = 'bottom-left';\n  const BottomRight = 'bottom-right';\n  const Start = 'start';\n  const Middle = 'middle';\n  const End = 'end';\n  const X = 'x';\n  const Y = 'y';\n  const Group = 'group';\n  const AxisRole = 'axis';\n  const TitleRole = 'title';\n  const FrameRole = 'frame';\n  const ScopeRole = 'scope';\n  const LegendRole = 'legend';\n  const RowHeader = 'row-header';\n  const RowFooter = 'row-footer';\n  const RowTitle = 'row-title';\n  const ColHeader = 'column-header';\n  const ColFooter = 'column-footer';\n  const ColTitle = 'column-title';\n  const Padding = 'padding';\n  const Symbols = 'symbol';\n  const Fit = 'fit';\n  const FitX = 'fit-x';\n  const FitY = 'fit-y';\n  const Pad = 'pad';\n  const None = 'none';\n  const All = 'all';\n  const Each = 'each';\n  const Flush = 'flush';\n  const Column = 'column';\n  const Row = 'row';\n\n  /**\n   * Calculate bounding boxes for scenegraph items.\n   * @constructor\n   * @param {object} params - The parameters for this operator.\n   * @param {object} params.mark - The scenegraph mark instance to bound.\n   */\n  function Bound(params) {\n    vegaDataflow.Transform.call(this, null, params);\n  }\n  vegaUtil.inherits(Bound, vegaDataflow.Transform, {\n    transform(_, pulse) {\n      const view = pulse.dataflow,\n        mark = _.mark,\n        type = mark.marktype,\n        entry = vegaScenegraph.Marks[type],\n        bound = entry.bound;\n      let markBounds = mark.bounds,\n        rebound;\n      if (entry.nested) {\n        // multi-item marks have a single bounds instance\n        if (mark.items.length) view.dirty(mark.items[0]);\n        markBounds = boundItem(mark, bound);\n        mark.items.forEach(item => {\n          item.bounds.clear().union(markBounds);\n        });\n      } else if (type === Group || _.modified()) {\n        // operator parameters modified -> re-bound all items\n        // updates group bounds in response to modified group content\n        pulse.visit(pulse.MOD, item => view.dirty(item));\n        markBounds.clear();\n        mark.items.forEach(item => markBounds.union(boundItem(item, bound)));\n\n        // force reflow for axes/legends/titles to propagate any layout changes\n        switch (mark.role) {\n          case AxisRole:\n          case LegendRole:\n          case TitleRole:\n            pulse.reflow();\n        }\n      } else {\n        // incrementally update bounds, re-bound mark as needed\n        rebound = pulse.changed(pulse.REM);\n        pulse.visit(pulse.ADD, item => {\n          markBounds.union(boundItem(item, bound));\n        });\n        pulse.visit(pulse.MOD, item => {\n          rebound = rebound || markBounds.alignsWith(item.bounds);\n          view.dirty(item);\n          markBounds.union(boundItem(item, bound));\n        });\n        if (rebound) {\n          markBounds.clear();\n          mark.items.forEach(item => markBounds.union(item.bounds));\n        }\n      }\n\n      // ensure mark bounds do not exceed any clipping region\n      vegaScenegraph.boundClip(mark);\n      return pulse.modifies('bounds');\n    }\n  });\n  function boundItem(item, bound, opt) {\n    return bound(item.bounds.clear(), item, opt);\n  }\n\n  const COUNTER_NAME = ':vega_identifier:';\n\n  /**\n   * Adds a unique identifier to all added tuples.\n   * This transform creates a new signal that serves as an id counter.\n   * As a result, the id counter is shared across all instances of this\n   * transform, generating unique ids across multiple data streams. In\n   * addition, this signal value can be included in a snapshot of the\n   * dataflow state, enabling correct resumption of id allocation.\n   * @constructor\n   * @param {object} params - The parameters for this operator.\n   * @param {string} params.as - The field name for the generated identifier.\n   */\n  function Identifier(params) {\n    vegaDataflow.Transform.call(this, 0, params);\n  }\n  Identifier.Definition = {\n    'type': 'Identifier',\n    'metadata': {\n      'modifies': true\n    },\n    'params': [{\n      'name': 'as',\n      'type': 'string',\n      'required': true\n    }]\n  };\n  vegaUtil.inherits(Identifier, vegaDataflow.Transform, {\n    transform(_, pulse) {\n      const counter = getCounter(pulse.dataflow),\n        as = _.as;\n      let id = counter.value;\n      pulse.visit(pulse.ADD, t => t[as] = t[as] || ++id);\n      counter.set(this.value = id);\n      return pulse;\n    }\n  });\n  function getCounter(view) {\n    return view._signals[COUNTER_NAME] || (view._signals[COUNTER_NAME] = view.add(0));\n  }\n\n  /**\n   * Bind scenegraph items to a scenegraph mark instance.\n   * @constructor\n   * @param {object} params - The parameters for this operator.\n   * @param {object} params.markdef - The mark definition for creating the mark.\n   *   This is an object of legal scenegraph mark properties which *must* include\n   *   the 'marktype' property.\n   */\n  function Mark(params) {\n    vegaDataflow.Transform.call(this, null, params);\n  }\n  vegaUtil.inherits(Mark, vegaDataflow.Transform, {\n    transform(_, pulse) {\n      let mark = this.value;\n\n      // acquire mark on first invocation, bind context and group\n      if (!mark) {\n        mark = pulse.dataflow.scenegraph().mark(_.markdef, lookup$1(_), _.index);\n        mark.group.context = _.context;\n        if (!_.context.group) _.context.group = mark.group;\n        mark.source = this.source; // point to upstream collector\n        mark.clip = _.clip;\n        mark.interactive = _.interactive;\n        this.value = mark;\n      }\n\n      // initialize entering items\n      const Init = mark.marktype === Group ? vegaScenegraph.GroupItem : vegaScenegraph.Item;\n      pulse.visit(pulse.ADD, item => Init.call(item, mark));\n\n      // update clipping and/or interactive status\n      if (_.modified('clip') || _.modified('interactive')) {\n        mark.clip = _.clip;\n        mark.interactive = !!_.interactive;\n        mark.zdirty = true; // force scenegraph re-eval\n        pulse.reflow();\n      }\n\n      // bind items array to scenegraph mark\n      mark.items = pulse.source;\n      return pulse;\n    }\n  });\n  function lookup$1(_) {\n    const g = _.groups,\n      p = _.parent;\n    return g && g.size === 1 ? g.get(Object.keys(g.object)[0]) : g && p ? g.lookup(p) : null;\n  }\n\n  /**\n   * Analyze items for overlap, changing opacity to hide items with\n   * overlapping bounding boxes. This transform will preserve at least\n   * two items (e.g., first and last) even if overlap persists.\n   * @param {object} params - The parameters for this operator.\n   * @param {function(*,*): number} [params.sort] - A comparator\n   *   function for sorting items.\n   * @param {object} [params.method] - The overlap removal method to apply.\n   *   One of 'parity' (default, hide every other item until there is no\n   *   more overlap) or 'greedy' (sequentially scan and hide and items that\n   *   overlap with the last visible item).\n   * @param {object} [params.boundScale] - A scale whose range should be used\n   *   to bound the items. Items exceeding the bounds of the scale range\n   *   will be treated as overlapping. If null or undefined, no bounds check\n   *   will be applied.\n   * @param {object} [params.boundOrient] - The orientation of the scale\n   *   (top, bottom, left, or right) used to bound items. This parameter is\n   *   ignored if boundScale is null or undefined.\n   * @param {object} [params.boundTolerance] - The tolerance in pixels for\n   *   bound inclusion testing (default 1). This specifies by how many pixels\n   *   an item's bounds may exceed the scale range bounds and not be culled.\n   * @constructor\n   */\n  function Overlap(params) {\n    vegaDataflow.Transform.call(this, null, params);\n  }\n  const methods = {\n    parity: items => items.filter((item, i) => i % 2 ? item.opacity = 0 : 1),\n    greedy: (items, sep) => {\n      let a;\n      return items.filter((b, i) => !i || !intersect(a.bounds, b.bounds, sep) ? (a = b, 1) : b.opacity = 0);\n    }\n  };\n\n  // compute bounding box intersection\n  // including padding pixels of separation\n  const intersect = (a, b, sep) => sep > Math.max(b.x1 - a.x2, a.x1 - b.x2, b.y1 - a.y2, a.y1 - b.y2);\n  const hasOverlap = (items, pad) => {\n    for (var i = 1, n = items.length, a = items[0].bounds, b; i < n; a = b, ++i) {\n      if (intersect(a, b = items[i].bounds, pad)) return true;\n    }\n  };\n  const hasBounds = item => {\n    const b = item.bounds;\n    return b.width() > 1 && b.height() > 1;\n  };\n  const boundTest = (scale, orient, tolerance) => {\n    var range = scale.range(),\n      b = new vegaScenegraph.Bounds();\n    if (orient === Top || orient === Bottom) {\n      b.set(range[0], -Infinity, range[1], +Infinity);\n    } else {\n      b.set(-Infinity, range[0], +Infinity, range[1]);\n    }\n    b.expand(tolerance || 1);\n    return item => b.encloses(item.bounds);\n  };\n\n  // reset all items to be fully opaque\n  const reset = source => {\n    source.forEach(item => item.opacity = 1);\n    return source;\n  };\n\n  // add all tuples to mod, fork pulse if parameters were modified\n  // fork prevents cross-stream tuple pollution (e.g., pulse from scale)\n  const reflow = (pulse, _) => pulse.reflow(_.modified()).modifies('opacity');\n  vegaUtil.inherits(Overlap, vegaDataflow.Transform, {\n    transform(_, pulse) {\n      const reduce = methods[_.method] || methods.parity,\n        sep = _.separation || 0;\n      let source = pulse.materialize(pulse.SOURCE).source,\n        items,\n        test;\n      if (!source || !source.length) return;\n      if (!_.method) {\n        // early exit if method is falsy\n        if (_.modified('method')) {\n          reset(source);\n          pulse = reflow(pulse, _);\n        }\n        return pulse;\n      }\n\n      // skip labels with no content\n      source = source.filter(hasBounds);\n\n      // early exit, nothing to do\n      if (!source.length) return;\n      if (_.sort) {\n        source = source.slice().sort(_.sort);\n      }\n      items = reset(source);\n      pulse = reflow(pulse, _);\n      if (items.length >= 3 && hasOverlap(items, sep)) {\n        do {\n          items = reduce(items, sep);\n        } while (items.length >= 3 && hasOverlap(items, sep));\n        if (items.length < 3 && !vegaUtil.peek(source).opacity) {\n          if (items.length > 1) vegaUtil.peek(items).opacity = 0;\n          vegaUtil.peek(source).opacity = 1;\n        }\n      }\n      if (_.boundScale && _.boundTolerance >= 0) {\n        test = boundTest(_.boundScale, _.boundOrient, +_.boundTolerance);\n        source.forEach(item => {\n          if (!test(item)) item.opacity = 0;\n        });\n      }\n\n      // re-calculate mark bounds\n      const bounds = items[0].mark.bounds.clear();\n      source.forEach(item => {\n        if (item.opacity) bounds.union(item.bounds);\n      });\n      return pulse;\n    }\n  });\n\n  /**\n   * Queue modified scenegraph items for rendering.\n   * @constructor\n   */\n  function Render(params) {\n    vegaDataflow.Transform.call(this, null, params);\n  }\n  vegaUtil.inherits(Render, vegaDataflow.Transform, {\n    transform(_, pulse) {\n      const view = pulse.dataflow;\n      pulse.visit(pulse.ALL, item => view.dirty(item));\n\n      // set z-index dirty flag as needed\n      if (pulse.fields && pulse.fields['zindex']) {\n        const item = pulse.source && pulse.source[0];\n        if (item) item.mark.zdirty = true;\n      }\n    }\n  });\n\n  const tempBounds = new vegaScenegraph.Bounds();\n  function set(item, property, value) {\n    return item[property] === value ? 0 : (item[property] = value, 1);\n  }\n\n  function isYAxis(mark) {\n    var orient = mark.items[0].orient;\n    return orient === Left || orient === Right;\n  }\n  function axisIndices(datum) {\n    let index = +datum.grid;\n    return [datum.ticks ? index++ : -1,\n    // ticks index\n    datum.labels ? index++ : -1,\n    // labels index\n    index + +datum.domain // title index\n    ];\n  }\n\n  function axisLayout(view, axis, width, height) {\n    var item = axis.items[0],\n      datum = item.datum,\n      delta = item.translate != null ? item.translate : 0.5,\n      orient = item.orient,\n      indices = axisIndices(datum),\n      range = item.range,\n      offset = item.offset,\n      position = item.position,\n      minExtent = item.minExtent,\n      maxExtent = item.maxExtent,\n      title = datum.title && item.items[indices[2]].items[0],\n      titlePadding = item.titlePadding,\n      bounds = item.bounds,\n      dl = title && vegaScenegraph.multiLineOffset(title),\n      x = 0,\n      y = 0,\n      i,\n      s;\n    tempBounds.clear().union(bounds);\n    bounds.clear();\n    if ((i = indices[0]) > -1) bounds.union(item.items[i].bounds);\n    if ((i = indices[1]) > -1) bounds.union(item.items[i].bounds);\n\n    // position axis group and title\n    switch (orient) {\n      case Top:\n        x = position || 0;\n        y = -offset;\n        s = Math.max(minExtent, Math.min(maxExtent, -bounds.y1));\n        bounds.add(0, -s).add(range, 0);\n        if (title) axisTitleLayout(view, title, s, titlePadding, dl, 0, -1, bounds);\n        break;\n      case Left:\n        x = -offset;\n        y = position || 0;\n        s = Math.max(minExtent, Math.min(maxExtent, -bounds.x1));\n        bounds.add(-s, 0).add(0, range);\n        if (title) axisTitleLayout(view, title, s, titlePadding, dl, 1, -1, bounds);\n        break;\n      case Right:\n        x = width + offset;\n        y = position || 0;\n        s = Math.max(minExtent, Math.min(maxExtent, bounds.x2));\n        bounds.add(0, 0).add(s, range);\n        if (title) axisTitleLayout(view, title, s, titlePadding, dl, 1, 1, bounds);\n        break;\n      case Bottom:\n        x = position || 0;\n        y = height + offset;\n        s = Math.max(minExtent, Math.min(maxExtent, bounds.y2));\n        bounds.add(0, 0).add(range, s);\n        if (title) axisTitleLayout(view, title, s, titlePadding, 0, 0, 1, bounds);\n        break;\n      default:\n        x = item.x;\n        y = item.y;\n    }\n\n    // update bounds\n    vegaScenegraph.boundStroke(bounds.translate(x, y), item);\n    if (set(item, 'x', x + delta) | set(item, 'y', y + delta)) {\n      item.bounds = tempBounds;\n      view.dirty(item);\n      item.bounds = bounds;\n      view.dirty(item);\n    }\n    return item.mark.bounds.clear().union(bounds);\n  }\n  function axisTitleLayout(view, title, offset, pad, dl, isYAxis, sign, bounds) {\n    const b = title.bounds;\n    if (title.auto) {\n      const v = sign * (offset + dl + pad);\n      let dx = 0,\n        dy = 0;\n      view.dirty(title);\n      isYAxis ? dx = (title.x || 0) - (title.x = v) : dy = (title.y || 0) - (title.y = v);\n      title.mark.bounds.clear().union(b.translate(-dx, -dy));\n      view.dirty(title);\n    }\n    bounds.union(b);\n  }\n\n  // aggregation functions for grid margin determination\n  const min = (a, b) => Math.floor(Math.min(a, b));\n  const max = (a, b) => Math.ceil(Math.max(a, b));\n  function gridLayoutGroups(group) {\n    var groups = group.items,\n      n = groups.length,\n      i = 0,\n      mark,\n      items;\n    const views = {\n      marks: [],\n      rowheaders: [],\n      rowfooters: [],\n      colheaders: [],\n      colfooters: [],\n      rowtitle: null,\n      coltitle: null\n    };\n\n    // layout axes, gather legends, collect bounds\n    for (; i < n; ++i) {\n      mark = groups[i];\n      items = mark.items;\n      if (mark.marktype === Group) {\n        switch (mark.role) {\n          case AxisRole:\n          case LegendRole:\n          case TitleRole:\n            break;\n          case RowHeader:\n            views.rowheaders.push(...items);\n            break;\n          case RowFooter:\n            views.rowfooters.push(...items);\n            break;\n          case ColHeader:\n            views.colheaders.push(...items);\n            break;\n          case ColFooter:\n            views.colfooters.push(...items);\n            break;\n          case RowTitle:\n            views.rowtitle = items[0];\n            break;\n          case ColTitle:\n            views.coltitle = items[0];\n            break;\n          default:\n            views.marks.push(...items);\n        }\n      }\n    }\n    return views;\n  }\n  function bboxFlush(item) {\n    return new vegaScenegraph.Bounds().set(0, 0, item.width || 0, item.height || 0);\n  }\n  function bboxFull(item) {\n    const b = item.bounds.clone();\n    return b.empty() ? b.set(0, 0, 0, 0) : b.translate(-(item.x || 0), -(item.y || 0));\n  }\n  function get(opt, key, d) {\n    const v = vegaUtil.isObject(opt) ? opt[key] : opt;\n    return v != null ? v : d !== undefined ? d : 0;\n  }\n  function offsetValue(v) {\n    return v < 0 ? Math.ceil(-v) : 0;\n  }\n  function gridLayout(view, groups, opt) {\n    var dirty = !opt.nodirty,\n      bbox = opt.bounds === Flush ? bboxFlush : bboxFull,\n      bounds = tempBounds.set(0, 0, 0, 0),\n      alignCol = get(opt.align, Column),\n      alignRow = get(opt.align, Row),\n      padCol = get(opt.padding, Column),\n      padRow = get(opt.padding, Row),\n      ncols = opt.columns || groups.length,\n      nrows = ncols <= 0 ? 1 : Math.ceil(groups.length / ncols),\n      n = groups.length,\n      xOffset = Array(n),\n      xExtent = Array(ncols),\n      xMax = 0,\n      yOffset = Array(n),\n      yExtent = Array(nrows),\n      yMax = 0,\n      dx = Array(n),\n      dy = Array(n),\n      boxes = Array(n),\n      m,\n      i,\n      c,\n      r,\n      b,\n      g,\n      px,\n      py,\n      x,\n      y,\n      offset;\n    for (i = 0; i < ncols; ++i) xExtent[i] = 0;\n    for (i = 0; i < nrows; ++i) yExtent[i] = 0;\n\n    // determine offsets for each group\n    for (i = 0; i < n; ++i) {\n      g = groups[i];\n      b = boxes[i] = bbox(g);\n      g.x = g.x || 0;\n      dx[i] = 0;\n      g.y = g.y || 0;\n      dy[i] = 0;\n      c = i % ncols;\n      r = ~~(i / ncols);\n      xMax = Math.max(xMax, px = Math.ceil(b.x2));\n      yMax = Math.max(yMax, py = Math.ceil(b.y2));\n      xExtent[c] = Math.max(xExtent[c], px);\n      yExtent[r] = Math.max(yExtent[r], py);\n      xOffset[i] = padCol + offsetValue(b.x1);\n      yOffset[i] = padRow + offsetValue(b.y1);\n      if (dirty) view.dirty(groups[i]);\n    }\n\n    // set initial alignment offsets\n    for (i = 0; i < n; ++i) {\n      if (i % ncols === 0) xOffset[i] = 0;\n      if (i < ncols) yOffset[i] = 0;\n    }\n\n    // enforce column alignment constraints\n    if (alignCol === Each) {\n      for (c = 1; c < ncols; ++c) {\n        for (offset = 0, i = c; i < n; i += ncols) {\n          if (offset < xOffset[i]) offset = xOffset[i];\n        }\n        for (i = c; i < n; i += ncols) {\n          xOffset[i] = offset + xExtent[c - 1];\n        }\n      }\n    } else if (alignCol === All) {\n      for (offset = 0, i = 0; i < n; ++i) {\n        if (i % ncols && offset < xOffset[i]) offset = xOffset[i];\n      }\n      for (i = 0; i < n; ++i) {\n        if (i % ncols) xOffset[i] = offset + xMax;\n      }\n    } else {\n      for (alignCol = false, c = 1; c < ncols; ++c) {\n        for (i = c; i < n; i += ncols) {\n          xOffset[i] += xExtent[c - 1];\n        }\n      }\n    }\n\n    // enforce row alignment constraints\n    if (alignRow === Each) {\n      for (r = 1; r < nrows; ++r) {\n        for (offset = 0, i = r * ncols, m = i + ncols; i < m; ++i) {\n          if (offset < yOffset[i]) offset = yOffset[i];\n        }\n        for (i = r * ncols; i < m; ++i) {\n          yOffset[i] = offset + yExtent[r - 1];\n        }\n      }\n    } else if (alignRow === All) {\n      for (offset = 0, i = ncols; i < n; ++i) {\n        if (offset < yOffset[i]) offset = yOffset[i];\n      }\n      for (i = ncols; i < n; ++i) {\n        yOffset[i] = offset + yMax;\n      }\n    } else {\n      for (alignRow = false, r = 1; r < nrows; ++r) {\n        for (i = r * ncols, m = i + ncols; i < m; ++i) {\n          yOffset[i] += yExtent[r - 1];\n        }\n      }\n    }\n\n    // perform horizontal grid layout\n    for (x = 0, i = 0; i < n; ++i) {\n      x = xOffset[i] + (i % ncols ? x : 0);\n      dx[i] += x - groups[i].x;\n    }\n\n    // perform vertical grid layout\n    for (c = 0; c < ncols; ++c) {\n      for (y = 0, i = c; i < n; i += ncols) {\n        y += yOffset[i];\n        dy[i] += y - groups[i].y;\n      }\n    }\n\n    // perform horizontal centering\n    if (alignCol && get(opt.center, Column) && nrows > 1) {\n      for (i = 0; i < n; ++i) {\n        b = alignCol === All ? xMax : xExtent[i % ncols];\n        x = b - boxes[i].x2 - groups[i].x - dx[i];\n        if (x > 0) dx[i] += x / 2;\n      }\n    }\n\n    // perform vertical centering\n    if (alignRow && get(opt.center, Row) && ncols !== 1) {\n      for (i = 0; i < n; ++i) {\n        b = alignRow === All ? yMax : yExtent[~~(i / ncols)];\n        y = b - boxes[i].y2 - groups[i].y - dy[i];\n        if (y > 0) dy[i] += y / 2;\n      }\n    }\n\n    // position grid relative to anchor\n    for (i = 0; i < n; ++i) {\n      bounds.union(boxes[i].translate(dx[i], dy[i]));\n    }\n    x = get(opt.anchor, X);\n    y = get(opt.anchor, Y);\n    switch (get(opt.anchor, Column)) {\n      case End:\n        x -= bounds.width();\n        break;\n      case Middle:\n        x -= bounds.width() / 2;\n    }\n    switch (get(opt.anchor, Row)) {\n      case End:\n        y -= bounds.height();\n        break;\n      case Middle:\n        y -= bounds.height() / 2;\n    }\n    x = Math.round(x);\n    y = Math.round(y);\n\n    // update mark positions, bounds, dirty\n    bounds.clear();\n    for (i = 0; i < n; ++i) {\n      groups[i].mark.bounds.clear();\n    }\n    for (i = 0; i < n; ++i) {\n      g = groups[i];\n      g.x += dx[i] += x;\n      g.y += dy[i] += y;\n      bounds.union(g.mark.bounds.union(g.bounds.translate(dx[i], dy[i])));\n      if (dirty) view.dirty(g);\n    }\n    return bounds;\n  }\n  function trellisLayout(view, group, opt) {\n    var views = gridLayoutGroups(group),\n      groups = views.marks,\n      bbox = opt.bounds === Flush ? boundFlush : boundFull,\n      off = opt.offset,\n      ncols = opt.columns || groups.length,\n      nrows = ncols <= 0 ? 1 : Math.ceil(groups.length / ncols),\n      cells = nrows * ncols,\n      x,\n      y,\n      x2,\n      y2,\n      anchor,\n      band,\n      offset;\n\n    // -- initial grid layout\n    const bounds = gridLayout(view, groups, opt);\n    if (bounds.empty()) bounds.set(0, 0, 0, 0); // empty grid\n\n    // -- layout grid headers and footers --\n\n    // perform row header layout\n    if (views.rowheaders) {\n      band = get(opt.headerBand, Row, null);\n      x = layoutHeaders(view, views.rowheaders, groups, ncols, nrows, -get(off, 'rowHeader'), min, 0, bbox, 'x1', 0, ncols, 1, band);\n    }\n\n    // perform column header layout\n    if (views.colheaders) {\n      band = get(opt.headerBand, Column, null);\n      y = layoutHeaders(view, views.colheaders, groups, ncols, ncols, -get(off, 'columnHeader'), min, 1, bbox, 'y1', 0, 1, ncols, band);\n    }\n\n    // perform row footer layout\n    if (views.rowfooters) {\n      band = get(opt.footerBand, Row, null);\n      x2 = layoutHeaders(view, views.rowfooters, groups, ncols, nrows, get(off, 'rowFooter'), max, 0, bbox, 'x2', ncols - 1, ncols, 1, band);\n    }\n\n    // perform column footer layout\n    if (views.colfooters) {\n      band = get(opt.footerBand, Column, null);\n      y2 = layoutHeaders(view, views.colfooters, groups, ncols, ncols, get(off, 'columnFooter'), max, 1, bbox, 'y2', cells - ncols, 1, ncols, band);\n    }\n\n    // perform row title layout\n    if (views.rowtitle) {\n      anchor = get(opt.titleAnchor, Row);\n      offset = get(off, 'rowTitle');\n      offset = anchor === End ? x2 + offset : x - offset;\n      band = get(opt.titleBand, Row, 0.5);\n      layoutTitle(view, views.rowtitle, offset, 0, bounds, band);\n    }\n\n    // perform column title layout\n    if (views.coltitle) {\n      anchor = get(opt.titleAnchor, Column);\n      offset = get(off, 'columnTitle');\n      offset = anchor === End ? y2 + offset : y - offset;\n      band = get(opt.titleBand, Column, 0.5);\n      layoutTitle(view, views.coltitle, offset, 1, bounds, band);\n    }\n  }\n  function boundFlush(item, field) {\n    return field === 'x1' ? item.x || 0 : field === 'y1' ? item.y || 0 : field === 'x2' ? (item.x || 0) + (item.width || 0) : field === 'y2' ? (item.y || 0) + (item.height || 0) : undefined;\n  }\n  function boundFull(item, field) {\n    return item.bounds[field];\n  }\n  function layoutHeaders(view, headers, groups, ncols, limit, offset, agg, isX, bound, bf, start, stride, back, band) {\n    var n = groups.length,\n      init = 0,\n      edge = 0,\n      i,\n      j,\n      k,\n      m,\n      b,\n      h,\n      g,\n      x,\n      y;\n\n    // if no groups, early exit and return 0\n    if (!n) return init;\n\n    // compute margin\n    for (i = start; i < n; i += stride) {\n      if (groups[i]) init = agg(init, bound(groups[i], bf));\n    }\n\n    // if no headers, return margin calculation\n    if (!headers.length) return init;\n\n    // check if number of headers exceeds number of rows or columns\n    if (headers.length > limit) {\n      view.warn('Grid headers exceed limit: ' + limit);\n      headers = headers.slice(0, limit);\n    }\n\n    // apply offset\n    init += offset;\n\n    // clear mark bounds for all headers\n    for (j = 0, m = headers.length; j < m; ++j) {\n      view.dirty(headers[j]);\n      headers[j].mark.bounds.clear();\n    }\n\n    // layout each header\n    for (i = start, j = 0, m = headers.length; j < m; ++j, i += stride) {\n      h = headers[j];\n      b = h.mark.bounds;\n\n      // search for nearest group to align to\n      // necessary if table has empty cells\n      for (k = i; k >= 0 && (g = groups[k]) == null; k -= back);\n\n      // assign coordinates and update bounds\n      if (isX) {\n        x = band == null ? g.x : Math.round(g.bounds.x1 + band * g.bounds.width());\n        y = init;\n      } else {\n        x = init;\n        y = band == null ? g.y : Math.round(g.bounds.y1 + band * g.bounds.height());\n      }\n      b.union(h.bounds.translate(x - (h.x || 0), y - (h.y || 0)));\n      h.x = x;\n      h.y = y;\n      view.dirty(h);\n\n      // update current edge of layout bounds\n      edge = agg(edge, b[bf]);\n    }\n    return edge;\n  }\n  function layoutTitle(view, g, offset, isX, bounds, band) {\n    if (!g) return;\n    view.dirty(g);\n\n    // compute title coordinates\n    var x = offset,\n      y = offset;\n    isX ? x = Math.round(bounds.x1 + band * bounds.width()) : y = Math.round(bounds.y1 + band * bounds.height());\n\n    // assign coordinates and update bounds\n    g.bounds.translate(x - (g.x || 0), y - (g.y || 0));\n    g.mark.bounds.clear().union(g.bounds);\n    g.x = x;\n    g.y = y;\n\n    // queue title for redraw\n    view.dirty(g);\n  }\n\n  // utility for looking up legend layout configuration\n  function lookup(config, orient) {\n    const opt = config[orient] || {};\n    return (key, d) => opt[key] != null ? opt[key] : config[key] != null ? config[key] : d;\n  }\n\n  // if legends specify offset directly, use the maximum specified value\n  function offsets(legends, value) {\n    let max = -Infinity;\n    legends.forEach(item => {\n      if (item.offset != null) max = Math.max(max, item.offset);\n    });\n    return max > -Infinity ? max : value;\n  }\n  function legendParams(g, orient, config, xb, yb, w, h) {\n    const _ = lookup(config, orient),\n      offset = offsets(g, _('offset', 0)),\n      anchor = _('anchor', Start),\n      mult = anchor === End ? 1 : anchor === Middle ? 0.5 : 0;\n    const p = {\n      align: Each,\n      bounds: _('bounds', Flush),\n      columns: _('direction') === 'vertical' ? 1 : g.length,\n      padding: _('margin', 8),\n      center: _('center'),\n      nodirty: true\n    };\n    switch (orient) {\n      case Left:\n        p.anchor = {\n          x: Math.floor(xb.x1) - offset,\n          column: End,\n          y: mult * (h || xb.height() + 2 * xb.y1),\n          row: anchor\n        };\n        break;\n      case Right:\n        p.anchor = {\n          x: Math.ceil(xb.x2) + offset,\n          y: mult * (h || xb.height() + 2 * xb.y1),\n          row: anchor\n        };\n        break;\n      case Top:\n        p.anchor = {\n          y: Math.floor(yb.y1) - offset,\n          row: End,\n          x: mult * (w || yb.width() + 2 * yb.x1),\n          column: anchor\n        };\n        break;\n      case Bottom:\n        p.anchor = {\n          y: Math.ceil(yb.y2) + offset,\n          x: mult * (w || yb.width() + 2 * yb.x1),\n          column: anchor\n        };\n        break;\n      case TopLeft:\n        p.anchor = {\n          x: offset,\n          y: offset\n        };\n        break;\n      case TopRight:\n        p.anchor = {\n          x: w - offset,\n          y: offset,\n          column: End\n        };\n        break;\n      case BottomLeft:\n        p.anchor = {\n          x: offset,\n          y: h - offset,\n          row: End\n        };\n        break;\n      case BottomRight:\n        p.anchor = {\n          x: w - offset,\n          y: h - offset,\n          column: End,\n          row: End\n        };\n        break;\n    }\n    return p;\n  }\n  function legendLayout(view, legend) {\n    var item = legend.items[0],\n      datum = item.datum,\n      orient = item.orient,\n      bounds = item.bounds,\n      x = item.x,\n      y = item.y,\n      w,\n      h;\n\n    // cache current bounds for later comparison\n    item._bounds ? item._bounds.clear().union(bounds) : item._bounds = bounds.clone();\n    bounds.clear();\n\n    // adjust legend to accommodate padding and title\n    legendGroupLayout(view, item, item.items[0].items[0]);\n\n    // aggregate bounds to determine size, and include origin\n    bounds = legendBounds(item, bounds);\n    w = 2 * item.padding;\n    h = 2 * item.padding;\n    if (!bounds.empty()) {\n      w = Math.ceil(bounds.width() + w);\n      h = Math.ceil(bounds.height() + h);\n    }\n    if (datum.type === Symbols) {\n      legendEntryLayout(item.items[0].items[0].items[0].items);\n    }\n    if (orient !== None) {\n      item.x = x = 0;\n      item.y = y = 0;\n    }\n    item.width = w;\n    item.height = h;\n    vegaScenegraph.boundStroke(bounds.set(x, y, x + w, y + h), item);\n    item.mark.bounds.clear().union(bounds);\n    return item;\n  }\n  function legendBounds(item, b) {\n    // aggregate item bounds\n    item.items.forEach(_ => b.union(_.bounds));\n\n    // anchor to legend origin\n    b.x1 = item.padding;\n    b.y1 = item.padding;\n    return b;\n  }\n  function legendGroupLayout(view, item, entry) {\n    var pad = item.padding,\n      ex = pad - entry.x,\n      ey = pad - entry.y;\n    if (!item.datum.title) {\n      if (ex || ey) translate(view, entry, ex, ey);\n    } else {\n      var title = item.items[1].items[0],\n        anchor = title.anchor,\n        tpad = item.titlePadding || 0,\n        tx = pad - title.x,\n        ty = pad - title.y;\n      switch (title.orient) {\n        case Left:\n          ex += Math.ceil(title.bounds.width()) + tpad;\n          break;\n        case Right:\n        case Bottom:\n          break;\n        default:\n          ey += title.bounds.height() + tpad;\n      }\n      if (ex || ey) translate(view, entry, ex, ey);\n      switch (title.orient) {\n        case Left:\n          ty += legendTitleOffset(item, entry, title, anchor, 1, 1);\n          break;\n        case Right:\n          tx += legendTitleOffset(item, entry, title, End, 0, 0) + tpad;\n          ty += legendTitleOffset(item, entry, title, anchor, 1, 1);\n          break;\n        case Bottom:\n          tx += legendTitleOffset(item, entry, title, anchor, 0, 0);\n          ty += legendTitleOffset(item, entry, title, End, -1, 0, 1) + tpad;\n          break;\n        default:\n          tx += legendTitleOffset(item, entry, title, anchor, 0, 0);\n      }\n      if (tx || ty) translate(view, title, tx, ty);\n\n      // translate legend if title pushes into negative coordinates\n      if ((tx = Math.round(title.bounds.x1 - pad)) < 0) {\n        translate(view, entry, -tx, 0);\n        translate(view, title, -tx, 0);\n      }\n    }\n  }\n  function legendTitleOffset(item, entry, title, anchor, y, lr, noBar) {\n    const grad = item.datum.type !== 'symbol',\n      vgrad = title.datum.vgrad,\n      e = grad && (lr || !vgrad) && !noBar ? entry.items[0] : entry,\n      s = e.bounds[y ? 'y2' : 'x2'] - item.padding,\n      u = vgrad && lr ? s : 0,\n      v = vgrad && lr ? 0 : s,\n      o = y <= 0 ? 0 : vegaScenegraph.multiLineOffset(title);\n    return Math.round(anchor === Start ? u : anchor === End ? v - o : 0.5 * (s - o));\n  }\n  function translate(view, item, dx, dy) {\n    item.x += dx;\n    item.y += dy;\n    item.bounds.translate(dx, dy);\n    item.mark.bounds.translate(dx, dy);\n    view.dirty(item);\n  }\n  function legendEntryLayout(entries) {\n    // get max widths for each column\n    const widths = entries.reduce((w, g) => {\n      w[g.column] = Math.max(g.bounds.x2 - g.x, w[g.column] || 0);\n      return w;\n    }, {});\n\n    // set dimensions of legend entry groups\n    entries.forEach(g => {\n      g.width = widths[g.column];\n      g.height = g.bounds.y2 - g.y;\n    });\n  }\n\n  function titleLayout(view, mark, width, height, viewBounds) {\n    var group = mark.items[0],\n      frame = group.frame,\n      orient = group.orient,\n      anchor = group.anchor,\n      offset = group.offset,\n      padding = group.padding,\n      title = group.items[0].items[0],\n      subtitle = group.items[1] && group.items[1].items[0],\n      end = orient === Left || orient === Right ? height : width,\n      start = 0,\n      x = 0,\n      y = 0,\n      sx = 0,\n      sy = 0,\n      pos;\n    if (frame !== Group) {\n      orient === Left ? (start = viewBounds.y2, end = viewBounds.y1) : orient === Right ? (start = viewBounds.y1, end = viewBounds.y2) : (start = viewBounds.x1, end = viewBounds.x2);\n    } else if (orient === Left) {\n      start = height, end = 0;\n    }\n    pos = anchor === Start ? start : anchor === End ? end : (start + end) / 2;\n    if (subtitle && subtitle.text) {\n      // position subtitle\n      switch (orient) {\n        case Top:\n        case Bottom:\n          sy = title.bounds.height() + padding;\n          break;\n        case Left:\n          sx = title.bounds.width() + padding;\n          break;\n        case Right:\n          sx = -title.bounds.width() - padding;\n          break;\n      }\n      tempBounds.clear().union(subtitle.bounds);\n      tempBounds.translate(sx - (subtitle.x || 0), sy - (subtitle.y || 0));\n      if (set(subtitle, 'x', sx) | set(subtitle, 'y', sy)) {\n        view.dirty(subtitle);\n        subtitle.bounds.clear().union(tempBounds);\n        subtitle.mark.bounds.clear().union(tempBounds);\n        view.dirty(subtitle);\n      }\n      tempBounds.clear().union(subtitle.bounds);\n    } else {\n      tempBounds.clear();\n    }\n    tempBounds.union(title.bounds);\n\n    // position title group\n    switch (orient) {\n      case Top:\n        x = pos;\n        y = viewBounds.y1 - tempBounds.height() - offset;\n        break;\n      case Left:\n        x = viewBounds.x1 - tempBounds.width() - offset;\n        y = pos;\n        break;\n      case Right:\n        x = viewBounds.x2 + tempBounds.width() + offset;\n        y = pos;\n        break;\n      case Bottom:\n        x = pos;\n        y = viewBounds.y2 + offset;\n        break;\n      default:\n        x = group.x;\n        y = group.y;\n    }\n    if (set(group, 'x', x) | set(group, 'y', y)) {\n      tempBounds.translate(x, y);\n      view.dirty(group);\n      group.bounds.clear().union(tempBounds);\n      mark.bounds.clear().union(tempBounds);\n      view.dirty(group);\n    }\n    return group.bounds;\n  }\n\n  /**\n   * Layout view elements such as axes and legends.\n   * Also performs size adjustments.\n   * @constructor\n   * @param {object} params - The parameters for this operator.\n   * @param {object} params.mark - Scenegraph mark of groups to layout.\n   */\n  function ViewLayout(params) {\n    vegaDataflow.Transform.call(this, null, params);\n  }\n  vegaUtil.inherits(ViewLayout, vegaDataflow.Transform, {\n    transform(_, pulse) {\n      const view = pulse.dataflow;\n      _.mark.items.forEach(group => {\n        if (_.layout) trellisLayout(view, group, _.layout);\n        layoutGroup(view, group, _);\n      });\n      return shouldReflow(_.mark.group) ? pulse.reflow() : pulse;\n    }\n  });\n  function shouldReflow(group) {\n    // We typically should reflow if layout is invoked (#2568), as child items\n    // may have resized and reflow ensures group bounds are re-calculated.\n    // However, legend entries have a special exception to avoid instability.\n    // For example, if a selected legend symbol gains a stroke on hover,\n    // we don't want to re-position subsequent elements in the legend.\n    return group && group.mark.role !== 'legend-entry';\n  }\n  function layoutGroup(view, group, _) {\n    var items = group.items,\n      width = Math.max(0, group.width || 0),\n      height = Math.max(0, group.height || 0),\n      viewBounds = new vegaScenegraph.Bounds().set(0, 0, width, height),\n      xBounds = viewBounds.clone(),\n      yBounds = viewBounds.clone(),\n      legends = [],\n      title,\n      mark,\n      orient,\n      b,\n      i,\n      n;\n\n    // layout axes, gather legends, collect bounds\n    for (i = 0, n = items.length; i < n; ++i) {\n      mark = items[i];\n      switch (mark.role) {\n        case AxisRole:\n          b = isYAxis(mark) ? xBounds : yBounds;\n          b.union(axisLayout(view, mark, width, height));\n          break;\n        case TitleRole:\n          title = mark;\n          break;\n        case LegendRole:\n          legends.push(legendLayout(view, mark));\n          break;\n        case FrameRole:\n        case ScopeRole:\n        case RowHeader:\n        case RowFooter:\n        case RowTitle:\n        case ColHeader:\n        case ColFooter:\n        case ColTitle:\n          xBounds.union(mark.bounds);\n          yBounds.union(mark.bounds);\n          break;\n        default:\n          viewBounds.union(mark.bounds);\n      }\n    }\n\n    // layout legends, adjust viewBounds\n    if (legends.length) {\n      // group legends by orient\n      const l = {};\n      legends.forEach(item => {\n        orient = item.orient || Right;\n        if (orient !== None) (l[orient] || (l[orient] = [])).push(item);\n      });\n\n      // perform grid layout for each orient group\n      for (const orient in l) {\n        const g = l[orient];\n        gridLayout(view, g, legendParams(g, orient, _.legends, xBounds, yBounds, width, height));\n      }\n\n      // update view bounds\n      legends.forEach(item => {\n        const b = item.bounds;\n        if (!b.equals(item._bounds)) {\n          item.bounds = item._bounds;\n          view.dirty(item); // dirty previous location\n          item.bounds = b;\n          view.dirty(item);\n        }\n        if (_.autosize && (_.autosize.type === Fit || _.autosize.type === FitX || _.autosize.type === FitY)) {\n          // For autosize fit, incorporate the orthogonal dimension only.\n          // Legends that overrun the chart area will then be clipped;\n          // otherwise the chart area gets reduced to nothing!\n          switch (item.orient) {\n            case Left:\n            case Right:\n              viewBounds.add(b.x1, 0).add(b.x2, 0);\n              break;\n            case Top:\n            case Bottom:\n              viewBounds.add(0, b.y1).add(0, b.y2);\n          }\n        } else {\n          viewBounds.union(b);\n        }\n      });\n    }\n\n    // combine bounding boxes\n    viewBounds.union(xBounds).union(yBounds);\n\n    // layout title, adjust bounds\n    if (title) {\n      viewBounds.union(titleLayout(view, title, width, height, viewBounds));\n    }\n\n    // override aggregated view bounds if content is clipped\n    if (group.clip) {\n      viewBounds.set(0, 0, group.width || 0, group.height || 0);\n    }\n\n    // perform size adjustment\n    viewSizeLayout(view, group, viewBounds, _);\n  }\n  function viewSizeLayout(view, group, viewBounds, _) {\n    const auto = _.autosize || {},\n      type = auto.type;\n    if (view._autosize < 1 || !type) return;\n    let viewWidth = view._width,\n      viewHeight = view._height,\n      width = Math.max(0, group.width || 0),\n      left = Math.max(0, Math.ceil(-viewBounds.x1)),\n      height = Math.max(0, group.height || 0),\n      top = Math.max(0, Math.ceil(-viewBounds.y1));\n    const right = Math.max(0, Math.ceil(viewBounds.x2 - width)),\n      bottom = Math.max(0, Math.ceil(viewBounds.y2 - height));\n    if (auto.contains === Padding) {\n      const padding = view.padding();\n      viewWidth -= padding.left + padding.right;\n      viewHeight -= padding.top + padding.bottom;\n    }\n    if (type === None) {\n      left = 0;\n      top = 0;\n      width = viewWidth;\n      height = viewHeight;\n    } else if (type === Fit) {\n      width = Math.max(0, viewWidth - left - right);\n      height = Math.max(0, viewHeight - top - bottom);\n    } else if (type === FitX) {\n      width = Math.max(0, viewWidth - left - right);\n      viewHeight = height + top + bottom;\n    } else if (type === FitY) {\n      viewWidth = width + left + right;\n      height = Math.max(0, viewHeight - top - bottom);\n    } else if (type === Pad) {\n      viewWidth = width + left + right;\n      viewHeight = height + top + bottom;\n    }\n    view._resizeView(viewWidth, viewHeight, width, height, [left, top], auto.resize);\n  }\n\n  exports.bound = Bound;\n  exports.identifier = Identifier;\n  exports.mark = Mark;\n  exports.overlap = Overlap;\n  exports.render = Render;\n  exports.viewlayout = ViewLayout;\n\n}));\n\n};"],
"names":["shadow$provide","global","require","module","exports","factory","define","amd","globalThis","self","vega","transforms","vegaDataflow","vegaScenegraph","vegaUtil","Bound","params","Transform","call","boundItem","item","bound","opt","bounds","clear","Identifier","getCounter","view","_signals","COUNTER_NAME","add","Mark","lookup$1","_","g","groups","p","parent","size","get","Object","keys","object","lookup","Overlap","Render","set","property","value","isYAxis","mark","orient","items","Left","Right","axisLayout","axis","width","height","datum","delta","translate","index","grid","ticks","labels","domain","range","offset","position","minExtent","maxExtent","title","indices","titlePadding","dl","multiLineOffset","i","tempBounds","union","Top","x","y","s","Math","max","min","y1","axisTitleLayout","x1","x2","Bottom","y2","boundStroke","dirty","pad","sign","b","auto","v","dy","dx","bboxFlush","Bounds","bboxFull","clone","empty","key","d","isObject","undefined","offsetValue","ceil","gridLayout","nodirty","bbox","Flush","alignCol","align","Column","alignRow","Row","padCol","padding","padRow","ncols","columns","length","nrows","n","xOffset","Array","xExtent","xMax","yOffset","yExtent","yMax","boxes","px","py","c","r","Each","All","m","center","anchor","X","Y","End","Middle","round","boundFlush","field","boundFull","layoutHeaders","headers","limit","agg","isX","bf","start","stride","back","band","edge","init","warn","slice","j","h","k","layoutTitle","config","offsets","legends","Infinity","forEach","legendParams","xb","yb","w","Start","mult","floor","column","row","TopLeft","TopRight","BottomLeft","BottomRight","legendLayout","legend","_bounds","ex","entry","ey","tpad","tx","ty","legendTitleOffset","legendBounds","Symbols","type","legendEntryLayout","None","lr","noBar","vgrad","e","u","o","entries","widths","reduce","titleLayout","viewBounds","group","subtitle","end","sy","sx","Group","frame","pos","text","ViewLayout","shouldReflow","role","layoutGroup","xBounds","yBounds","AxisRole","TitleRole","LegendRole","push","FrameRole","ScopeRole","RowHeader","RowFooter","RowTitle","ColHeader","ColFooter","ColTitle","l","equals","autosize","Fit","FitX","FitY","clip","viewSizeLayout","_autosize","viewWidth","_width","viewHeight","_height","left","top","right","bottom","Padding","contains","Pad","_resizeView","resize","inherits","transform","pulse","dataflow","marktype","Marks","markBounds","rebound","nested","modified","visit","MOD","reflow","changed","REM","ADD","alignsWith","boundClip","modifies","Definition","counter","as","id","t","scenegraph","markdef","context","source","interactive","Init","GroupItem","Item","zdirty","methods","parity","filter","opacity","greedy","sep","a","intersect","hasOverlap","hasBounds","boundTest","scale","tolerance","expand","encloses","reset","method","separation","materialize","SOURCE","test","sort","peek","boundScale","boundTolerance","boundOrient","ALL","fields","layout","views","marks","rowheaders","rowfooters","colheaders","colfooters","rowtitle","coltitle","off","cells","headerBand","footerBand","titleAnchor","titleBand","identifier","overlap","render","viewlayout"]
}
