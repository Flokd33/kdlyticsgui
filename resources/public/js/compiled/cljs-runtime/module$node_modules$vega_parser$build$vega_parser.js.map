{
"version":3,
"file":"module$node_modules$vega_parser$build$vega_parser.js",
"lineCount":148,
"mappings":"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",
"sources":["node_modules/vega-parser/build/vega-parser.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_parser$build$vega_parser\"] = function(global,require,module,exports) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('vega-util'), require('vega-functions'), require('vega-event-selector'), require('vega-scale'), require('vega-dataflow')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'vega-util', 'vega-functions', 'vega-event-selector', 'vega-scale', 'vega-dataflow'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.vega = {}, global.vega, global.vega, global.vega, global.vega, global.vega));\n})(this, (function (exports, vegaUtil, vegaFunctions, vegaEventSelector, vegaScale, vegaDataflow) { 'use strict';\n\n  function parseAutosize (spec) {\n    return vegaUtil.isObject(spec) ? spec : {\n      type: spec || 'pad'\n    };\n  }\n\n  const number = _ => +_ || 0;\n  const paddingObject = _ => ({\n    top: _,\n    bottom: _,\n    left: _,\n    right: _\n  });\n  function parsePadding (spec) {\n    return !vegaUtil.isObject(spec) ? paddingObject(number(spec)) : spec.signal ? spec : {\n      top: number(spec.top),\n      bottom: number(spec.bottom),\n      left: number(spec.left),\n      right: number(spec.right)\n    };\n  }\n\n  const encoder = _ => vegaUtil.isObject(_) && !vegaUtil.isArray(_) ? vegaUtil.extend({}, _) : {\n    value: _\n  };\n  function addEncode(object, name, value, set) {\n    if (value != null) {\n      const isEncoder = vegaUtil.isObject(value) && !vegaUtil.isArray(value) || vegaUtil.isArray(value) && value.length && vegaUtil.isObject(value[0]);\n\n      // Always assign signal to update, even if the signal is from the enter block\n      if (isEncoder) {\n        object.update[name] = value;\n      } else {\n        object[set || 'enter'][name] = {\n          value: value\n        };\n      }\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n  function addEncoders(object, enter, update) {\n    for (const name in enter) {\n      addEncode(object, name, enter[name]);\n    }\n    for (const name in update) {\n      addEncode(object, name, update[name], 'update');\n    }\n  }\n  function extendEncode(encode, extra, skip) {\n    for (const name in extra) {\n      if (skip && vegaUtil.hasOwnProperty(skip, name)) continue;\n      encode[name] = vegaUtil.extend(encode[name] || {}, extra[name]);\n    }\n    return encode;\n  }\n  function has(key, encode) {\n    return encode && (encode.enter && encode.enter[key] || encode.update && encode.update[key]);\n  }\n\n  const MarkRole = 'mark';\n  const FrameRole = 'frame';\n  const ScopeRole = 'scope';\n  const AxisRole = 'axis';\n  const AxisDomainRole = 'axis-domain';\n  const AxisGridRole = 'axis-grid';\n  const AxisLabelRole = 'axis-label';\n  const AxisTickRole = 'axis-tick';\n  const AxisTitleRole = 'axis-title';\n  const LegendRole = 'legend';\n  const LegendBandRole = 'legend-band';\n  const LegendEntryRole = 'legend-entry';\n  const LegendGradientRole = 'legend-gradient';\n  const LegendLabelRole = 'legend-label';\n  const LegendSymbolRole = 'legend-symbol';\n  const LegendTitleRole = 'legend-title';\n  const TitleRole = 'title';\n  const TitleTextRole = 'title-text';\n  const TitleSubtitleRole = 'title-subtitle';\n\n  function applyDefaults (encode, type, role, style, config) {\n    const defaults = {},\n      enter = {};\n    let update, key, skip, props;\n\n    // if text mark, apply global lineBreak settings (#2370)\n    key = 'lineBreak';\n    if (type === 'text' && config[key] != null && !has(key, encode)) {\n      applyDefault(defaults, key, config[key]);\n    }\n\n    // ignore legend and axis roles\n    if (role == 'legend' || String(role).startsWith('axis')) {\n      role = null;\n    }\n\n    // resolve mark config\n    props = role === FrameRole ? config.group : role === MarkRole ? vegaUtil.extend({}, config.mark, config[type]) : null;\n    for (key in props) {\n      // do not apply defaults if relevant fields are defined\n      skip = has(key, encode) || (key === 'fill' || key === 'stroke') && (has('fill', encode) || has('stroke', encode));\n      if (!skip) applyDefault(defaults, key, props[key]);\n    }\n\n    // resolve styles, apply with increasing precedence\n    vegaUtil.array(style).forEach(name => {\n      const props = config.style && config.style[name];\n      for (const key in props) {\n        if (!has(key, encode)) {\n          applyDefault(defaults, key, props[key]);\n        }\n      }\n    });\n    encode = vegaUtil.extend({}, encode); // defensive copy\n    for (key in defaults) {\n      props = defaults[key];\n      if (props.signal) {\n        (update = update || {})[key] = props;\n      } else {\n        enter[key] = props;\n      }\n    }\n    encode.enter = vegaUtil.extend(enter, encode.enter);\n    if (update) encode.update = vegaUtil.extend(update, encode.update);\n    return encode;\n  }\n  function applyDefault(defaults, key, value) {\n    defaults[key] = value && value.signal ? {\n      signal: value.signal\n    } : {\n      value: value\n    };\n  }\n\n  const scaleRef = scale => vegaUtil.isString(scale) ? vegaUtil.stringValue(scale) : scale.signal ? `(${scale.signal})` : field(scale);\n  function entry$1(enc) {\n    if (enc.gradient != null) {\n      return gradient(enc);\n    }\n    let value = enc.signal ? `(${enc.signal})` : enc.color ? color(enc.color) : enc.field != null ? field(enc.field) : enc.value !== undefined ? vegaUtil.stringValue(enc.value) : undefined;\n    if (enc.scale != null) {\n      value = scale(enc, value);\n    }\n    if (value === undefined) {\n      value = null;\n    }\n    if (enc.exponent != null) {\n      value = `pow(${value},${property(enc.exponent)})`;\n    }\n    if (enc.mult != null) {\n      value += `*${property(enc.mult)}`;\n    }\n    if (enc.offset != null) {\n      value += `+${property(enc.offset)}`;\n    }\n    if (enc.round) {\n      value = `round(${value})`;\n    }\n    return value;\n  }\n  const _color = (type, x, y, z) => `(${type}(${[x, y, z].map(entry$1).join(',')})+'')`;\n  function color(enc) {\n    return enc.c ? _color('hcl', enc.h, enc.c, enc.l) : enc.h || enc.s ? _color('hsl', enc.h, enc.s, enc.l) : enc.l || enc.a ? _color('lab', enc.l, enc.a, enc.b) : enc.r || enc.g || enc.b ? _color('rgb', enc.r, enc.g, enc.b) : null;\n  }\n  function gradient(enc) {\n    // map undefined to null; expression lang does not allow undefined\n    const args = [enc.start, enc.stop, enc.count].map(_ => _ == null ? null : vegaUtil.stringValue(_));\n\n    // trim null inputs from the end\n    while (args.length && vegaUtil.peek(args) == null) args.pop();\n    args.unshift(scaleRef(enc.gradient));\n    return `gradient(${args.join(',')})`;\n  }\n  function property(property) {\n    return vegaUtil.isObject(property) ? '(' + entry$1(property) + ')' : property;\n  }\n  function field(ref) {\n    return resolveField(vegaUtil.isObject(ref) ? ref : {\n      datum: ref\n    });\n  }\n  function resolveField(ref) {\n    let object, level, field;\n    if (ref.signal) {\n      object = 'datum';\n      field = ref.signal;\n    } else if (ref.group || ref.parent) {\n      level = Math.max(1, ref.level || 1);\n      object = 'item';\n      while (level-- > 0) {\n        object += '.mark.group';\n      }\n      if (ref.parent) {\n        field = ref.parent;\n        object += '.datum';\n      } else {\n        field = ref.group;\n      }\n    } else if (ref.datum) {\n      object = 'datum';\n      field = ref.datum;\n    } else {\n      vegaUtil.error('Invalid field reference: ' + vegaUtil.stringValue(ref));\n    }\n    if (!ref.signal) {\n      field = vegaUtil.isString(field) ? vegaUtil.splitAccessPath(field).map(vegaUtil.stringValue).join('][') : resolveField(field);\n    }\n    return object + '[' + field + ']';\n  }\n  function scale(enc, value) {\n    const scale = scaleRef(enc.scale);\n    if (enc.range != null) {\n      // pull value from scale range\n      value = `lerp(_range(${scale}), ${+enc.range})`;\n    } else {\n      // run value through scale and/or pull scale bandwidth\n      if (value !== undefined) value = `_scale(${scale}, ${value})`;\n      if (enc.band) {\n        value = (value ? value + '+' : '') + `_bandwidth(${scale})` + (+enc.band === 1 ? '' : '*' + property(enc.band));\n        if (enc.extra) {\n          // include logic to handle extraneous elements\n          value = `(datum.extra ? _scale(${scale}, datum.extra.value) : ${value})`;\n        }\n      }\n      if (value == null) value = '0';\n    }\n    return value;\n  }\n\n  function rule (enc) {\n    let code = '';\n    enc.forEach(rule => {\n      const value = entry$1(rule);\n      code += rule.test ? `(${rule.test})?${value}:` : value;\n    });\n\n    // if no else clause, terminate with null (#1366)\n    if (vegaUtil.peek(code) === ':') {\n      code += 'null';\n    }\n    return code;\n  }\n\n  function parseEncode (encode, type, role, style, scope, params) {\n    const enc = {};\n    params = params || {};\n    params.encoders = {\n      $encode: enc\n    };\n    encode = applyDefaults(encode, type, role, style, scope.config);\n    for (const key in encode) {\n      enc[key] = parseBlock(encode[key], type, params, scope);\n    }\n    return params;\n  }\n  function parseBlock(block, marktype, params, scope) {\n    const channels = {},\n      fields = {};\n    for (const name in block) {\n      if (block[name] != null) {\n        // skip any null entries\n        channels[name] = parse$1(expr(block[name]), scope, params, fields);\n      }\n    }\n    return {\n      $expr: {\n        marktype,\n        channels\n      },\n      $fields: Object.keys(fields),\n      $output: Object.keys(block)\n    };\n  }\n  function expr(enc) {\n    return vegaUtil.isArray(enc) ? rule(enc) : entry$1(enc);\n  }\n  function parse$1(code, scope, params, fields) {\n    const expr = vegaFunctions.parseExpression(code, scope);\n    expr.$fields.forEach(name => fields[name] = 1);\n    vegaUtil.extend(params, expr.$params);\n    return expr.$expr;\n  }\n\n  const OUTER = 'outer',\n    OUTER_INVALID = ['value', 'update', 'init', 'react', 'bind'];\n  function outerError(prefix, name) {\n    vegaUtil.error(prefix + ' for \"outer\" push: ' + vegaUtil.stringValue(name));\n  }\n  function parseSignal (signal, scope) {\n    const name = signal.name;\n    if (signal.push === OUTER) {\n      // signal must already be defined, raise error if not\n      if (!scope.signals[name]) outerError('No prior signal definition', name);\n      // signal push must not use properties reserved for standard definition\n      OUTER_INVALID.forEach(prop => {\n        if (signal[prop] !== undefined) outerError('Invalid property ', prop);\n      });\n    } else {\n      // define a new signal in the current scope\n      const op = scope.addSignal(name, signal.value);\n      if (signal.react === false) op.react = false;\n      if (signal.bind) scope.addBinding(name, signal.bind);\n    }\n  }\n\n  function Entry(type, value, params, parent) {\n    this.id = -1;\n    this.type = type;\n    this.value = value;\n    this.params = params;\n    if (parent) this.parent = parent;\n  }\n  function entry(type, value, params, parent) {\n    return new Entry(type, value, params, parent);\n  }\n  function operator(value, params) {\n    return entry('operator', value, params);\n  }\n\n  // -----\n\n  function ref(op) {\n    const ref = {\n      $ref: op.id\n    };\n    // if operator not yet registered, cache ref to resolve later\n    if (op.id < 0) (op.refs = op.refs || []).push(ref);\n    return ref;\n  }\n  function fieldRef$1(field, name) {\n    return name ? {\n      $field: field,\n      $name: name\n    } : {\n      $field: field\n    };\n  }\n  const keyFieldRef = fieldRef$1('key');\n  function compareRef(fields, orders) {\n    return {\n      $compare: fields,\n      $order: orders\n    };\n  }\n  function keyRef(fields, flat) {\n    const ref = {\n      $key: fields\n    };\n    if (flat) ref.$flat = true;\n    return ref;\n  }\n\n  // -----\n\n  const Ascending = 'ascending';\n  const Descending = 'descending';\n  function sortKey(sort) {\n    return !vegaUtil.isObject(sort) ? '' : (sort.order === Descending ? '-' : '+') + aggrField(sort.op, sort.field);\n  }\n  function aggrField(op, field) {\n    return (op && op.signal ? '$' + op.signal : op || '') + (op && field ? '_' : '') + (field && field.signal ? '$' + field.signal : field || '');\n  }\n\n  // -----\n\n  const Scope$1 = 'scope';\n  const View = 'view';\n  function isSignal(_) {\n    return _ && _.signal;\n  }\n  function isExpr$1(_) {\n    return _ && _.expr;\n  }\n  function hasSignal(_) {\n    if (isSignal(_)) return true;\n    if (vegaUtil.isObject(_)) for (const key in _) {\n      if (hasSignal(_[key])) return true;\n    }\n    return false;\n  }\n  function value(specValue, defaultValue) {\n    return specValue != null ? specValue : defaultValue;\n  }\n  function deref(v) {\n    return v && v.signal || v;\n  }\n\n  const Timer = 'timer';\n  function parseStream(stream, scope) {\n    const method = stream.merge ? mergeStream : stream.stream ? nestedStream : stream.type ? eventStream : vegaUtil.error('Invalid stream specification: ' + vegaUtil.stringValue(stream));\n    return method(stream, scope);\n  }\n  function eventSource(source) {\n    return source === Scope$1 ? View : source || View;\n  }\n  function mergeStream(stream, scope) {\n    const list = stream.merge.map(s => parseStream(s, scope)),\n      entry = streamParameters({\n        merge: list\n      }, stream, scope);\n    return scope.addStream(entry).id;\n  }\n  function nestedStream(stream, scope) {\n    const id = parseStream(stream.stream, scope),\n      entry = streamParameters({\n        stream: id\n      }, stream, scope);\n    return scope.addStream(entry).id;\n  }\n  function eventStream(stream, scope) {\n    let id;\n    if (stream.type === Timer) {\n      id = scope.event(Timer, stream.throttle);\n      stream = {\n        between: stream.between,\n        filter: stream.filter\n      };\n    } else {\n      id = scope.event(eventSource(stream.source), stream.type);\n    }\n    const entry = streamParameters({\n      stream: id\n    }, stream, scope);\n    return Object.keys(entry).length === 1 ? id : scope.addStream(entry).id;\n  }\n  function streamParameters(entry, stream, scope) {\n    let param = stream.between;\n    if (param) {\n      if (param.length !== 2) {\n        vegaUtil.error('Stream \"between\" parameter must have 2 entries: ' + vegaUtil.stringValue(stream));\n      }\n      entry.between = [parseStream(param[0], scope), parseStream(param[1], scope)];\n    }\n    param = stream.filter ? [].concat(stream.filter) : [];\n    if (stream.marktype || stream.markname || stream.markrole) {\n      // add filter for mark type, name and/or role\n      param.push(filterMark(stream.marktype, stream.markname, stream.markrole));\n    }\n    if (stream.source === Scope$1) {\n      // add filter to limit events from sub-scope only\n      param.push('inScope(event.item)');\n    }\n    if (param.length) {\n      entry.filter = vegaFunctions.parseExpression('(' + param.join(')&&(') + ')', scope).$expr;\n    }\n    if ((param = stream.throttle) != null) {\n      entry.throttle = +param;\n    }\n    if ((param = stream.debounce) != null) {\n      entry.debounce = +param;\n    }\n    if (stream.consume) {\n      entry.consume = true;\n    }\n    return entry;\n  }\n  function filterMark(type, name, role) {\n    const item = 'event.item';\n    return item + (type && type !== '*' ? '&&' + item + '.mark.marktype===\\'' + type + '\\'' : '') + (role ? '&&' + item + '.mark.role===\\'' + role + '\\'' : '') + (name ? '&&' + item + '.mark.name===\\'' + name + '\\'' : '');\n  }\n\n  // bypass expression parser for internal operator references\n  const OP_VALUE_EXPR = {\n    code: '_.$value',\n    ast: {\n      type: 'Identifier',\n      value: 'value'\n    }\n  };\n  function parseUpdate (spec, scope, target) {\n    const encode = spec.encode,\n      entry = {\n        target: target\n      };\n    let events = spec.events,\n      update = spec.update,\n      sources = [];\n    if (!events) {\n      vegaUtil.error('Signal update missing events specification.');\n    }\n\n    // interpret as an event selector string\n    if (vegaUtil.isString(events)) {\n      events = vegaEventSelector.parseSelector(events, scope.isSubscope() ? Scope$1 : View);\n    }\n\n    // separate event streams from signal updates\n    events = vegaUtil.array(events).filter(s => s.signal || s.scale ? (sources.push(s), 0) : 1);\n\n    // merge internal operator listeners\n    if (sources.length > 1) {\n      sources = [mergeSources(sources)];\n    }\n\n    // merge event streams, include as source\n    if (events.length) {\n      sources.push(events.length > 1 ? {\n        merge: events\n      } : events[0]);\n    }\n    if (encode != null) {\n      if (update) vegaUtil.error('Signal encode and update are mutually exclusive.');\n      update = 'encode(item(),' + vegaUtil.stringValue(encode) + ')';\n    }\n\n    // resolve update value\n    entry.update = vegaUtil.isString(update) ? vegaFunctions.parseExpression(update, scope) : update.expr != null ? vegaFunctions.parseExpression(update.expr, scope) : update.value != null ? update.value : update.signal != null ? {\n      $expr: OP_VALUE_EXPR,\n      $params: {\n        $value: scope.signalRef(update.signal)\n      }\n    } : vegaUtil.error('Invalid signal update specification.');\n    if (spec.force) {\n      entry.options = {\n        force: true\n      };\n    }\n    sources.forEach(source => scope.addUpdate(vegaUtil.extend(streamSource(source, scope), entry)));\n  }\n  function streamSource(stream, scope) {\n    return {\n      source: stream.signal ? scope.signalRef(stream.signal) : stream.scale ? scope.scaleRef(stream.scale) : parseStream(stream, scope)\n    };\n  }\n  function mergeSources(sources) {\n    return {\n      signal: '[' + sources.map(s => s.scale ? 'scale(\"' + s.scale + '\")' : s.signal) + ']'\n    };\n  }\n\n  function parseSignalUpdates (signal, scope) {\n    const op = scope.getSignal(signal.name);\n    let expr = signal.update;\n    if (signal.init) {\n      if (expr) {\n        vegaUtil.error('Signals can not include both init and update expressions.');\n      } else {\n        expr = signal.init;\n        op.initonly = true;\n      }\n    }\n    if (expr) {\n      expr = vegaFunctions.parseExpression(expr, scope);\n      op.update = expr.$expr;\n      op.params = expr.$params;\n    }\n    if (signal.on) {\n      signal.on.forEach(_ => parseUpdate(_, scope, op.id));\n    }\n  }\n\n  const transform = name => (params, value, parent) => entry(name, value, params || undefined, parent);\n  const Aggregate = transform('aggregate');\n  const AxisTicks = transform('axisticks');\n  const Bound = transform('bound');\n  const Collect = transform('collect');\n  const Compare = transform('compare');\n  const DataJoin = transform('datajoin');\n  const Encode = transform('encode');\n  const Expression = transform('expression');\n  const Facet = transform('facet');\n  const Field = transform('field');\n  const Key = transform('key');\n  const LegendEntries = transform('legendentries');\n  const Load = transform('load');\n  const Mark = transform('mark');\n  const MultiExtent = transform('multiextent');\n  const MultiValues = transform('multivalues');\n  const Overlap = transform('overlap');\n  const Params = transform('params');\n  const PreFacet = transform('prefacet');\n  const Projection = transform('projection');\n  const Proxy = transform('proxy');\n  const Relay = transform('relay');\n  const Render = transform('render');\n  const Scale = transform('scale');\n  const Sieve = transform('sieve');\n  const SortItems = transform('sortitems');\n  const ViewLayout = transform('viewlayout');\n  const Values = transform('values');\n\n  let FIELD_REF_ID = 0;\n  const MULTIDOMAIN_SORT_OPS = {\n    min: 'min',\n    max: 'max',\n    count: 'sum'\n  };\n  function initScale(spec, scope) {\n    const type = spec.type || 'linear';\n    if (!vegaScale.isValidScaleType(type)) {\n      vegaUtil.error('Unrecognized scale type: ' + vegaUtil.stringValue(type));\n    }\n    scope.addScale(spec.name, {\n      type,\n      domain: undefined\n    });\n  }\n  function parseScale(spec, scope) {\n    const params = scope.getScale(spec.name).params;\n    let key;\n    params.domain = parseScaleDomain(spec.domain, spec, scope);\n    if (spec.range != null) {\n      params.range = parseScaleRange(spec, scope, params);\n    }\n    if (spec.interpolate != null) {\n      parseScaleInterpolate(spec.interpolate, params);\n    }\n    if (spec.nice != null) {\n      params.nice = parseScaleNice(spec.nice);\n    }\n    if (spec.bins != null) {\n      params.bins = parseScaleBins(spec.bins, scope);\n    }\n    for (key in spec) {\n      if (vegaUtil.hasOwnProperty(params, key) || key === 'name') continue;\n      params[key] = parseLiteral(spec[key], scope);\n    }\n  }\n  function parseLiteral(v, scope) {\n    return !vegaUtil.isObject(v) ? v : v.signal ? scope.signalRef(v.signal) : vegaUtil.error('Unsupported object: ' + vegaUtil.stringValue(v));\n  }\n  function parseArray(v, scope) {\n    return v.signal ? scope.signalRef(v.signal) : v.map(v => parseLiteral(v, scope));\n  }\n  function dataLookupError(name) {\n    vegaUtil.error('Can not find data set: ' + vegaUtil.stringValue(name));\n  }\n\n  // -- SCALE DOMAIN ----\n\n  function parseScaleDomain(domain, spec, scope) {\n    if (!domain) {\n      if (spec.domainMin != null || spec.domainMax != null) {\n        vegaUtil.error('No scale domain defined for domainMin/domainMax to override.');\n      }\n      return; // default domain\n    }\n\n    return domain.signal ? scope.signalRef(domain.signal) : (vegaUtil.isArray(domain) ? explicitDomain : domain.fields ? multipleDomain : singularDomain)(domain, spec, scope);\n  }\n  function explicitDomain(domain, spec, scope) {\n    return domain.map(v => parseLiteral(v, scope));\n  }\n  function singularDomain(domain, spec, scope) {\n    const data = scope.getData(domain.data);\n    if (!data) dataLookupError(domain.data);\n    return vegaScale.isDiscrete(spec.type) ? data.valuesRef(scope, domain.field, parseSort(domain.sort, false)) : vegaScale.isQuantile(spec.type) ? data.domainRef(scope, domain.field) : data.extentRef(scope, domain.field);\n  }\n  function multipleDomain(domain, spec, scope) {\n    const data = domain.data,\n      fields = domain.fields.reduce((dom, d) => {\n        d = vegaUtil.isString(d) ? {\n          data: data,\n          field: d\n        } : vegaUtil.isArray(d) || d.signal ? fieldRef(d, scope) : d;\n        dom.push(d);\n        return dom;\n      }, []);\n    return (vegaScale.isDiscrete(spec.type) ? ordinalMultipleDomain : vegaScale.isQuantile(spec.type) ? quantileMultipleDomain : numericMultipleDomain)(domain, scope, fields);\n  }\n  function fieldRef(data, scope) {\n    const name = '_:vega:_' + FIELD_REF_ID++,\n      coll = Collect({});\n    if (vegaUtil.isArray(data)) {\n      coll.value = {\n        $ingest: data\n      };\n    } else if (data.signal) {\n      const code = 'setdata(' + vegaUtil.stringValue(name) + ',' + data.signal + ')';\n      coll.params.input = scope.signalRef(code);\n    }\n    scope.addDataPipeline(name, [coll, Sieve({})]);\n    return {\n      data: name,\n      field: 'data'\n    };\n  }\n  function ordinalMultipleDomain(domain, scope, fields) {\n    const sort = parseSort(domain.sort, true);\n    let a, v;\n\n    // get value counts for each domain field\n    const counts = fields.map(f => {\n      const data = scope.getData(f.data);\n      if (!data) dataLookupError(f.data);\n      return data.countsRef(scope, f.field, sort);\n    });\n\n    // aggregate the results from each domain field\n    const p = {\n      groupby: keyFieldRef,\n      pulse: counts\n    };\n    if (sort) {\n      a = sort.op || 'count';\n      v = sort.field ? aggrField(a, sort.field) : 'count';\n      p.ops = [MULTIDOMAIN_SORT_OPS[a]];\n      p.fields = [scope.fieldRef(v)];\n      p.as = [v];\n    }\n    a = scope.add(Aggregate(p));\n\n    // collect aggregate output\n    const c = scope.add(Collect({\n      pulse: ref(a)\n    }));\n\n    // extract values for combined domain\n    v = scope.add(Values({\n      field: keyFieldRef,\n      sort: scope.sortRef(sort),\n      pulse: ref(c)\n    }));\n    return ref(v);\n  }\n  function parseSort(sort, multidomain) {\n    if (sort) {\n      if (!sort.field && !sort.op) {\n        if (vegaUtil.isObject(sort)) sort.field = 'key';else sort = {\n          field: 'key'\n        };\n      } else if (!sort.field && sort.op !== 'count') {\n        vegaUtil.error('No field provided for sort aggregate op: ' + sort.op);\n      } else if (multidomain && sort.field) {\n        if (sort.op && !MULTIDOMAIN_SORT_OPS[sort.op]) {\n          vegaUtil.error('Multiple domain scales can not be sorted using ' + sort.op);\n        }\n      }\n    }\n    return sort;\n  }\n  function quantileMultipleDomain(domain, scope, fields) {\n    // get value arrays for each domain field\n    const values = fields.map(f => {\n      const data = scope.getData(f.data);\n      if (!data) dataLookupError(f.data);\n      return data.domainRef(scope, f.field);\n    });\n\n    // combine value arrays\n    return ref(scope.add(MultiValues({\n      values: values\n    })));\n  }\n  function numericMultipleDomain(domain, scope, fields) {\n    // get extents for each domain field\n    const extents = fields.map(f => {\n      const data = scope.getData(f.data);\n      if (!data) dataLookupError(f.data);\n      return data.extentRef(scope, f.field);\n    });\n\n    // combine extents\n    return ref(scope.add(MultiExtent({\n      extents: extents\n    })));\n  }\n\n  // -- SCALE BINS -----\n\n  function parseScaleBins(v, scope) {\n    return v.signal || vegaUtil.isArray(v) ? parseArray(v, scope) : scope.objectProperty(v);\n  }\n\n  // -- SCALE NICE -----\n\n  function parseScaleNice(nice) {\n    return vegaUtil.isObject(nice) ? {\n      interval: parseLiteral(nice.interval),\n      step: parseLiteral(nice.step)\n    } : parseLiteral(nice);\n  }\n\n  // -- SCALE INTERPOLATION -----\n\n  function parseScaleInterpolate(interpolate, params) {\n    params.interpolate = parseLiteral(interpolate.type || interpolate);\n    if (interpolate.gamma != null) {\n      params.interpolateGamma = parseLiteral(interpolate.gamma);\n    }\n  }\n\n  // -- SCALE RANGE -----\n\n  function parseScaleRange(spec, scope, params) {\n    const config = scope.config.range;\n    let range = spec.range;\n    if (range.signal) {\n      return scope.signalRef(range.signal);\n    } else if (vegaUtil.isString(range)) {\n      if (config && vegaUtil.hasOwnProperty(config, range)) {\n        spec = vegaUtil.extend({}, spec, {\n          range: config[range]\n        });\n        return parseScaleRange(spec, scope, params);\n      } else if (range === 'width') {\n        range = [0, {\n          signal: 'width'\n        }];\n      } else if (range === 'height') {\n        range = vegaScale.isDiscrete(spec.type) ? [0, {\n          signal: 'height'\n        }] : [{\n          signal: 'height'\n        }, 0];\n      } else {\n        vegaUtil.error('Unrecognized scale range value: ' + vegaUtil.stringValue(range));\n      }\n    } else if (range.scheme) {\n      params.scheme = vegaUtil.isArray(range.scheme) ? parseArray(range.scheme, scope) : parseLiteral(range.scheme, scope);\n      if (range.extent) params.schemeExtent = parseArray(range.extent, scope);\n      if (range.count) params.schemeCount = parseLiteral(range.count, scope);\n      return;\n    } else if (range.step) {\n      params.rangeStep = parseLiteral(range.step, scope);\n      return;\n    } else if (vegaScale.isDiscrete(spec.type) && !vegaUtil.isArray(range)) {\n      return parseScaleDomain(range, spec, scope);\n    } else if (!vegaUtil.isArray(range)) {\n      vegaUtil.error('Unsupported range type: ' + vegaUtil.stringValue(range));\n    }\n    return range.map(v => (vegaUtil.isArray(v) ? parseArray : parseLiteral)(v, scope));\n  }\n\n  function parseProjection (proj, scope) {\n    const config = scope.config.projection || {},\n      params = {};\n    for (const name in proj) {\n      if (name === 'name') continue;\n      params[name] = parseParameter$1(proj[name], name, scope);\n    }\n\n    // apply projection defaults from config\n    for (const name in config) {\n      if (params[name] == null) {\n        params[name] = parseParameter$1(config[name], name, scope);\n      }\n    }\n    scope.addProjection(proj.name, params);\n  }\n  function parseParameter$1(_, name, scope) {\n    return vegaUtil.isArray(_) ? _.map(_ => parseParameter$1(_, name, scope)) : !vegaUtil.isObject(_) ? _ : _.signal ? scope.signalRef(_.signal) : name === 'fit' ? _ : vegaUtil.error('Unsupported parameter object: ' + vegaUtil.stringValue(_));\n  }\n\n  const Top = 'top';\n  const Left = 'left';\n  const Right = 'right';\n  const Bottom = 'bottom';\n  const Center = 'center';\n  const Vertical = 'vertical';\n  const Start = 'start';\n  const Middle = 'middle';\n  const End = 'end';\n  const Index = 'index';\n  const Label = 'label';\n  const Offset = 'offset';\n  const Perc = 'perc';\n  const Perc2 = 'perc2';\n  const Value = 'value';\n  const GuideLabelStyle = 'guide-label';\n  const GuideTitleStyle = 'guide-title';\n  const GroupTitleStyle = 'group-title';\n  const GroupSubtitleStyle = 'group-subtitle';\n  const Symbols = 'symbol';\n  const Gradient = 'gradient';\n  const Discrete = 'discrete';\n  const Size = 'size';\n  const Shape = 'shape';\n  const Fill = 'fill';\n  const Stroke = 'stroke';\n  const StrokeWidth = 'strokeWidth';\n  const StrokeDash = 'strokeDash';\n  const Opacity = 'opacity';\n\n  // Encoding channels supported by legends\n  // In priority order of 'canonical' scale\n  const LegendScales = [Size, Shape, Fill, Stroke, StrokeWidth, StrokeDash, Opacity];\n  const Skip = {\n    name: 1,\n    style: 1,\n    interactive: 1\n  };\n  const zero = {\n    value: 0\n  };\n  const one = {\n    value: 1\n  };\n\n  const GroupMark = 'group';\n  const RectMark = 'rect';\n  const RuleMark = 'rule';\n  const SymbolMark = 'symbol';\n  const TextMark = 'text';\n\n  function guideGroup (mark) {\n    mark.type = GroupMark;\n    mark.interactive = mark.interactive || false;\n    return mark;\n  }\n\n  function lookup(spec, config) {\n    const _ = (name, dflt) => value(spec[name], value(config[name], dflt));\n    _.isVertical = s => Vertical === value(spec.direction, config.direction || (s ? config.symbolDirection : config.gradientDirection));\n    _.gradientLength = () => value(spec.gradientLength, config.gradientLength || config.gradientWidth);\n    _.gradientThickness = () => value(spec.gradientThickness, config.gradientThickness || config.gradientHeight);\n    _.entryColumns = () => value(spec.columns, value(config.columns, +_.isVertical(true)));\n    return _;\n  }\n  function getEncoding(name, encode) {\n    const v = encode && (encode.update && encode.update[name] || encode.enter && encode.enter[name]);\n    return v && v.signal ? v : v ? v.value : null;\n  }\n  function getStyle(name, scope, style) {\n    const s = scope.config.style[style];\n    return s && s[name];\n  }\n  function anchorExpr(s, e, m) {\n    return `item.anchor === '${Start}' ? ${s} : item.anchor === '${End}' ? ${e} : ${m}`;\n  }\n  const alignExpr$1 = anchorExpr(vegaUtil.stringValue(Left), vegaUtil.stringValue(Right), vegaUtil.stringValue(Center));\n  function tickBand(_) {\n    const v = _('tickBand');\n    let offset = _('tickOffset'),\n      band,\n      extra;\n    if (!v) {\n      // if no tick band entry, fall back on other properties\n      band = _('bandPosition');\n      extra = _('tickExtra');\n    } else if (v.signal) {\n      // if signal, augment code to interpret values\n      band = {\n        signal: `(${v.signal}) === 'extent' ? 1 : 0.5`\n      };\n      extra = {\n        signal: `(${v.signal}) === 'extent'`\n      };\n      if (!vegaUtil.isObject(offset)) {\n        offset = {\n          signal: `(${v.signal}) === 'extent' ? 0 : ${offset}`\n        };\n      }\n    } else if (v === 'extent') {\n      // if constant, simply set values\n      band = 1;\n      extra = true;\n      offset = 0;\n    } else {\n      band = 0.5;\n      extra = false;\n    }\n    return {\n      extra,\n      band,\n      offset\n    };\n  }\n  function extendOffset(value, offset) {\n    return !offset ? value : !value ? offset : !vegaUtil.isObject(value) ? {\n      value,\n      offset\n    } : Object.assign({}, value, {\n      offset: extendOffset(value.offset, offset)\n    });\n  }\n\n  function guideMark (mark, extras) {\n    if (extras) {\n      mark.name = extras.name;\n      mark.style = extras.style || mark.style;\n      mark.interactive = !!extras.interactive;\n      mark.encode = extendEncode(mark.encode, extras, Skip);\n    } else {\n      mark.interactive = false;\n    }\n    return mark;\n  }\n\n  function legendGradient (spec, scale, config, userEncode) {\n    const _ = lookup(spec, config),\n      vertical = _.isVertical(),\n      thickness = _.gradientThickness(),\n      length = _.gradientLength();\n    let enter, start, stop, width, height;\n    if (vertical) {\n      start = [0, 1];\n      stop = [0, 0];\n      width = thickness;\n      height = length;\n    } else {\n      start = [0, 0];\n      stop = [1, 0];\n      width = length;\n      height = thickness;\n    }\n    const encode = {\n      enter: enter = {\n        opacity: zero,\n        x: zero,\n        y: zero,\n        width: encoder(width),\n        height: encoder(height)\n      },\n      update: vegaUtil.extend({}, enter, {\n        opacity: one,\n        fill: {\n          gradient: scale,\n          start: start,\n          stop: stop\n        }\n      }),\n      exit: {\n        opacity: zero\n      }\n    };\n    addEncoders(encode, {\n      stroke: _('gradientStrokeColor'),\n      strokeWidth: _('gradientStrokeWidth')\n    }, {\n      // update\n      opacity: _('gradientOpacity')\n    });\n    return guideMark({\n      type: RectMark,\n      role: LegendGradientRole,\n      encode\n    }, userEncode);\n  }\n\n  function legendGradientDiscrete (spec, scale, config, userEncode, dataRef) {\n    const _ = lookup(spec, config),\n      vertical = _.isVertical(),\n      thickness = _.gradientThickness(),\n      length = _.gradientLength();\n    let u,\n      v,\n      uu,\n      vv,\n      adjust = '';\n    vertical ? (u = 'y', uu = 'y2', v = 'x', vv = 'width', adjust = '1-') : (u = 'x', uu = 'x2', v = 'y', vv = 'height');\n    const enter = {\n      opacity: zero,\n      fill: {\n        scale: scale,\n        field: Value\n      }\n    };\n    enter[u] = {\n      signal: adjust + 'datum.' + Perc,\n      mult: length\n    };\n    enter[v] = zero;\n    enter[uu] = {\n      signal: adjust + 'datum.' + Perc2,\n      mult: length\n    };\n    enter[vv] = encoder(thickness);\n    const encode = {\n      enter: enter,\n      update: vegaUtil.extend({}, enter, {\n        opacity: one\n      }),\n      exit: {\n        opacity: zero\n      }\n    };\n    addEncoders(encode, {\n      stroke: _('gradientStrokeColor'),\n      strokeWidth: _('gradientStrokeWidth')\n    }, {\n      // update\n      opacity: _('gradientOpacity')\n    });\n    return guideMark({\n      type: RectMark,\n      role: LegendBandRole,\n      key: Value,\n      from: dataRef,\n      encode\n    }, userEncode);\n  }\n\n  const alignExpr = `datum.${Perc}<=0?\"${Left}\":datum.${Perc}>=1?\"${Right}\":\"${Center}\"`,\n    baselineExpr = `datum.${Perc}<=0?\"${Bottom}\":datum.${Perc}>=1?\"${Top}\":\"${Middle}\"`;\n  function legendGradientLabels (spec, config, userEncode, dataRef) {\n    const _ = lookup(spec, config),\n      vertical = _.isVertical(),\n      thickness = encoder(_.gradientThickness()),\n      length = _.gradientLength();\n    let overlap = _('labelOverlap'),\n      enter,\n      update,\n      u,\n      v,\n      adjust = '';\n    const encode = {\n      enter: enter = {\n        opacity: zero\n      },\n      update: update = {\n        opacity: one,\n        text: {\n          field: Label\n        }\n      },\n      exit: {\n        opacity: zero\n      }\n    };\n    addEncoders(encode, {\n      fill: _('labelColor'),\n      fillOpacity: _('labelOpacity'),\n      font: _('labelFont'),\n      fontSize: _('labelFontSize'),\n      fontStyle: _('labelFontStyle'),\n      fontWeight: _('labelFontWeight'),\n      limit: value(spec.labelLimit, config.gradientLabelLimit)\n    });\n    if (vertical) {\n      enter.align = {\n        value: 'left'\n      };\n      enter.baseline = update.baseline = {\n        signal: baselineExpr\n      };\n      u = 'y';\n      v = 'x';\n      adjust = '1-';\n    } else {\n      enter.align = update.align = {\n        signal: alignExpr\n      };\n      enter.baseline = {\n        value: 'top'\n      };\n      u = 'x';\n      v = 'y';\n    }\n    enter[u] = update[u] = {\n      signal: adjust + 'datum.' + Perc,\n      mult: length\n    };\n    enter[v] = update[v] = thickness;\n    thickness.offset = value(spec.labelOffset, config.gradientLabelOffset) || 0;\n    overlap = overlap ? {\n      separation: _('labelSeparation'),\n      method: overlap,\n      order: 'datum.' + Index\n    } : undefined;\n\n    // type, role, style, key, dataRef, encode, extras\n    return guideMark({\n      type: TextMark,\n      role: LegendLabelRole,\n      style: GuideLabelStyle,\n      key: Value,\n      from: dataRef,\n      encode,\n      overlap\n    }, userEncode);\n  }\n\n  // userEncode is top-level, includes entries, symbols, labels\n  function legendSymbolGroups (spec, config, userEncode, dataRef, columns) {\n    const _ = lookup(spec, config),\n      entries = userEncode.entries,\n      interactive = !!(entries && entries.interactive),\n      name = entries ? entries.name : undefined,\n      height = _('clipHeight'),\n      symbolOffset = _('symbolOffset'),\n      valueRef = {\n        data: 'value'\n      },\n      xSignal = `(${columns}) ? datum.${Offset} : datum.${Size}`,\n      yEncode = height ? encoder(height) : {\n        field: Size\n      },\n      index = `datum.${Index}`,\n      ncols = `max(1, ${columns})`;\n    let encode, enter, update, nrows, sort;\n    yEncode.mult = 0.5;\n\n    // -- LEGEND SYMBOLS --\n    encode = {\n      enter: enter = {\n        opacity: zero,\n        x: {\n          signal: xSignal,\n          mult: 0.5,\n          offset: symbolOffset\n        },\n        y: yEncode\n      },\n      update: update = {\n        opacity: one,\n        x: enter.x,\n        y: enter.y\n      },\n      exit: {\n        opacity: zero\n      }\n    };\n    let baseFill = null,\n      baseStroke = null;\n    if (!spec.fill) {\n      baseFill = config.symbolBaseFillColor;\n      baseStroke = config.symbolBaseStrokeColor;\n    }\n    addEncoders(encode, {\n      fill: _('symbolFillColor', baseFill),\n      shape: _('symbolType'),\n      size: _('symbolSize'),\n      stroke: _('symbolStrokeColor', baseStroke),\n      strokeDash: _('symbolDash'),\n      strokeDashOffset: _('symbolDashOffset'),\n      strokeWidth: _('symbolStrokeWidth')\n    }, {\n      // update\n      opacity: _('symbolOpacity')\n    });\n    LegendScales.forEach(scale => {\n      if (spec[scale]) {\n        update[scale] = enter[scale] = {\n          scale: spec[scale],\n          field: Value\n        };\n      }\n    });\n    const symbols = guideMark({\n      type: SymbolMark,\n      role: LegendSymbolRole,\n      key: Value,\n      from: valueRef,\n      clip: height ? true : undefined,\n      encode\n    }, userEncode.symbols);\n\n    // -- LEGEND LABELS --\n    const labelOffset = encoder(symbolOffset);\n    labelOffset.offset = _('labelOffset');\n    encode = {\n      enter: enter = {\n        opacity: zero,\n        x: {\n          signal: xSignal,\n          offset: labelOffset\n        },\n        y: yEncode\n      },\n      update: update = {\n        opacity: one,\n        text: {\n          field: Label\n        },\n        x: enter.x,\n        y: enter.y\n      },\n      exit: {\n        opacity: zero\n      }\n    };\n    addEncoders(encode, {\n      align: _('labelAlign'),\n      baseline: _('labelBaseline'),\n      fill: _('labelColor'),\n      fillOpacity: _('labelOpacity'),\n      font: _('labelFont'),\n      fontSize: _('labelFontSize'),\n      fontStyle: _('labelFontStyle'),\n      fontWeight: _('labelFontWeight'),\n      limit: _('labelLimit')\n    });\n    const labels = guideMark({\n      type: TextMark,\n      role: LegendLabelRole,\n      style: GuideLabelStyle,\n      key: Value,\n      from: valueRef,\n      encode\n    }, userEncode.labels);\n\n    // -- LEGEND ENTRY GROUPS --\n    encode = {\n      enter: {\n        noBound: {\n          value: !height\n        },\n        // ignore width/height in bounds calc\n        width: zero,\n        height: height ? encoder(height) : zero,\n        opacity: zero\n      },\n      exit: {\n        opacity: zero\n      },\n      update: update = {\n        opacity: one,\n        row: {\n          signal: null\n        },\n        column: {\n          signal: null\n        }\n      }\n    };\n\n    // annotate and sort groups to ensure correct ordering\n    if (_.isVertical(true)) {\n      nrows = `ceil(item.mark.items.length / ${ncols})`;\n      update.row.signal = `${index}%${nrows}`;\n      update.column.signal = `floor(${index} / ${nrows})`;\n      sort = {\n        field: ['row', index]\n      };\n    } else {\n      update.row.signal = `floor(${index} / ${ncols})`;\n      update.column.signal = `${index} % ${ncols}`;\n      sort = {\n        field: index\n      };\n    }\n    // handle zero column case (implies infinite columns)\n    update.column.signal = `(${columns})?${update.column.signal}:${index}`;\n\n    // facet legend entries into sub-groups\n    dataRef = {\n      facet: {\n        data: dataRef,\n        name: 'value',\n        groupby: Index\n      }\n    };\n    return guideGroup({\n      role: ScopeRole,\n      from: dataRef,\n      encode: extendEncode(encode, entries, Skip),\n      marks: [symbols, labels],\n      name,\n      interactive,\n      sort\n    });\n  }\n  function legendSymbolLayout(spec, config) {\n    const _ = lookup(spec, config);\n\n    // layout parameters for legend entries\n    return {\n      align: _('gridAlign'),\n      columns: _.entryColumns(),\n      center: {\n        row: true,\n        column: false\n      },\n      padding: {\n        row: _('rowPadding'),\n        column: _('columnPadding')\n      }\n    };\n  }\n\n  // expression logic for align, anchor, angle, and baseline calculation\n  const isL = 'item.orient === \"left\"',\n    isR = 'item.orient === \"right\"',\n    isLR = `(${isL} || ${isR})`,\n    isVG = `datum.vgrad && ${isLR}`,\n    baseline = anchorExpr('\"top\"', '\"bottom\"', '\"middle\"'),\n    alignFlip = anchorExpr('\"right\"', '\"left\"', '\"center\"'),\n    exprAlign = `datum.vgrad && ${isR} ? (${alignFlip}) : (${isLR} && !(datum.vgrad && ${isL})) ? \"left\" : ${alignExpr$1}`,\n    exprAnchor = `item._anchor || (${isLR} ? \"middle\" : \"start\")`,\n    exprAngle = `${isVG} ? (${isL} ? -90 : 90) : 0`,\n    exprBaseline = `${isLR} ? (datum.vgrad ? (${isR} ? \"bottom\" : \"top\") : ${baseline}) : \"top\"`;\n  function legendTitle (spec, config, userEncode, dataRef) {\n    const _ = lookup(spec, config);\n    const encode = {\n      enter: {\n        opacity: zero\n      },\n      update: {\n        opacity: one,\n        x: {\n          field: {\n            group: 'padding'\n          }\n        },\n        y: {\n          field: {\n            group: 'padding'\n          }\n        }\n      },\n      exit: {\n        opacity: zero\n      }\n    };\n    addEncoders(encode, {\n      orient: _('titleOrient'),\n      _anchor: _('titleAnchor'),\n      anchor: {\n        signal: exprAnchor\n      },\n      angle: {\n        signal: exprAngle\n      },\n      align: {\n        signal: exprAlign\n      },\n      baseline: {\n        signal: exprBaseline\n      },\n      text: spec.title,\n      fill: _('titleColor'),\n      fillOpacity: _('titleOpacity'),\n      font: _('titleFont'),\n      fontSize: _('titleFontSize'),\n      fontStyle: _('titleFontStyle'),\n      fontWeight: _('titleFontWeight'),\n      limit: _('titleLimit'),\n      lineHeight: _('titleLineHeight')\n    }, {\n      // require update\n      align: _('titleAlign'),\n      baseline: _('titleBaseline')\n    });\n    return guideMark({\n      type: TextMark,\n      role: LegendTitleRole,\n      style: GuideTitleStyle,\n      from: dataRef,\n      encode\n    }, userEncode);\n  }\n\n  function clip (clip, scope) {\n    let expr;\n    if (vegaUtil.isObject(clip)) {\n      if (clip.signal) {\n        expr = clip.signal;\n      } else if (clip.path) {\n        expr = 'pathShape(' + param(clip.path) + ')';\n      } else if (clip.sphere) {\n        expr = 'geoShape(' + param(clip.sphere) + ', {type: \"Sphere\"})';\n      }\n    }\n    return expr ? scope.signalRef(expr) : !!clip;\n  }\n  function param(value) {\n    return vegaUtil.isObject(value) && value.signal ? value.signal : vegaUtil.stringValue(value);\n  }\n\n  function getRole (spec) {\n    const role = spec.role || '';\n    return !role.indexOf('axis') || !role.indexOf('legend') || !role.indexOf('title') ? role : spec.type === GroupMark ? ScopeRole : role || MarkRole;\n  }\n\n  function definition (spec) {\n    return {\n      marktype: spec.type,\n      name: spec.name || undefined,\n      role: spec.role || getRole(spec),\n      zindex: +spec.zindex || undefined,\n      aria: spec.aria,\n      description: spec.description\n    };\n  }\n\n  function interactive (spec, scope) {\n    return spec && spec.signal ? scope.signalRef(spec.signal) : spec === false ? false : true;\n  }\n\n  /**\n   * Parse a data transform specification.\n   */\n  function parseTransform (spec, scope) {\n    const def = vegaDataflow.definition(spec.type);\n    if (!def) vegaUtil.error('Unrecognized transform type: ' + vegaUtil.stringValue(spec.type));\n    const t = entry(def.type.toLowerCase(), null, parseParameters(def, spec, scope));\n    if (spec.signal) scope.addSignal(spec.signal, scope.proxy(t));\n    t.metadata = def.metadata || {};\n    return t;\n  }\n\n  /**\n   * Parse all parameters of a data transform.\n   */\n  function parseParameters(def, spec, scope) {\n    const params = {},\n      n = def.params.length;\n    for (let i = 0; i < n; ++i) {\n      const pdef = def.params[i];\n      params[pdef.name] = parseParameter(pdef, spec, scope);\n    }\n    return params;\n  }\n\n  /**\n   * Parse a data transform parameter.\n   */\n  function parseParameter(def, spec, scope) {\n    const type = def.type,\n      value = spec[def.name];\n    if (type === 'index') {\n      return parseIndexParameter(def, spec, scope);\n    } else if (value === undefined) {\n      if (def.required) {\n        vegaUtil.error('Missing required ' + vegaUtil.stringValue(spec.type) + ' parameter: ' + vegaUtil.stringValue(def.name));\n      }\n      return;\n    } else if (type === 'param') {\n      return parseSubParameters(def, spec, scope);\n    } else if (type === 'projection') {\n      return scope.projectionRef(spec[def.name]);\n    }\n    return def.array && !isSignal(value) ? value.map(v => parameterValue(def, v, scope)) : parameterValue(def, value, scope);\n  }\n\n  /**\n   * Parse a single parameter value.\n   */\n  function parameterValue(def, value, scope) {\n    const type = def.type;\n    if (isSignal(value)) {\n      return isExpr(type) ? vegaUtil.error('Expression references can not be signals.') : isField(type) ? scope.fieldRef(value) : isCompare(type) ? scope.compareRef(value) : scope.signalRef(value.signal);\n    } else {\n      const expr = def.expr || isField(type);\n      return expr && outerExpr(value) ? scope.exprRef(value.expr, value.as) : expr && outerField(value) ? fieldRef$1(value.field, value.as) : isExpr(type) ? vegaFunctions.parseExpression(value, scope) : isData(type) ? ref(scope.getData(value).values) : isField(type) ? fieldRef$1(value) : isCompare(type) ? scope.compareRef(value) : value;\n    }\n  }\n\n  /**\n   * Parse parameter for accessing an index of another data set.\n   */\n  function parseIndexParameter(def, spec, scope) {\n    if (!vegaUtil.isString(spec.from)) {\n      vegaUtil.error('Lookup \"from\" parameter must be a string literal.');\n    }\n    return scope.getData(spec.from).lookupRef(scope, spec.key);\n  }\n\n  /**\n   * Parse a parameter that contains one or more sub-parameter objects.\n   */\n  function parseSubParameters(def, spec, scope) {\n    const value = spec[def.name];\n    if (def.array) {\n      if (!vegaUtil.isArray(value)) {\n        // signals not allowed!\n        vegaUtil.error('Expected an array of sub-parameters. Instead: ' + vegaUtil.stringValue(value));\n      }\n      return value.map(v => parseSubParameter(def, v, scope));\n    } else {\n      return parseSubParameter(def, value, scope);\n    }\n  }\n\n  /**\n   * Parse a sub-parameter object.\n   */\n  function parseSubParameter(def, value, scope) {\n    const n = def.params.length;\n    let pdef;\n\n    // loop over defs to find matching key\n    for (let i = 0; i < n; ++i) {\n      pdef = def.params[i];\n      for (const k in pdef.key) {\n        if (pdef.key[k] !== value[k]) {\n          pdef = null;\n          break;\n        }\n      }\n      if (pdef) break;\n    }\n    // raise error if matching key not found\n    if (!pdef) vegaUtil.error('Unsupported parameter: ' + vegaUtil.stringValue(value));\n\n    // parse params, create Params transform, return ref\n    const params = vegaUtil.extend(parseParameters(pdef, value, scope), pdef.key);\n    return ref(scope.add(Params(params)));\n  }\n\n  // -- Utilities -----\n\n  const outerExpr = _ => _ && _.expr;\n  const outerField = _ => _ && _.field;\n  const isData = _ => _ === 'data';\n  const isExpr = _ => _ === 'expr';\n  const isField = _ => _ === 'field';\n  const isCompare = _ => _ === 'compare';\n\n  function parseData$1 (from, group, scope) {\n    let facet, key, op, dataRef, parent;\n\n    // if no source data, generate singleton datum\n    if (!from) {\n      dataRef = ref(scope.add(Collect(null, [{}])));\n    }\n\n    // if faceted, process facet specification\n    else if (facet = from.facet) {\n      if (!group) vegaUtil.error('Only group marks can be faceted.');\n\n      // use pre-faceted source data, if available\n      if (facet.field != null) {\n        dataRef = parent = getDataRef(facet, scope);\n      } else {\n        // generate facet aggregates if no direct data specification\n        if (!from.data) {\n          op = parseTransform(vegaUtil.extend({\n            type: 'aggregate',\n            groupby: vegaUtil.array(facet.groupby)\n          }, facet.aggregate), scope);\n          op.params.key = scope.keyRef(facet.groupby);\n          op.params.pulse = getDataRef(facet, scope);\n          dataRef = parent = ref(scope.add(op));\n        } else {\n          parent = ref(scope.getData(from.data).aggregate);\n        }\n        key = scope.keyRef(facet.groupby, true);\n      }\n    }\n\n    // if not yet defined, get source data reference\n    if (!dataRef) {\n      dataRef = getDataRef(from, scope);\n    }\n    return {\n      key: key,\n      pulse: dataRef,\n      parent: parent\n    };\n  }\n  function getDataRef(from, scope) {\n    return from.$ref ? from : from.data && from.data.$ref ? from.data : ref(scope.getData(from.data).output);\n  }\n\n  function DataScope(scope, input, output, values, aggr) {\n    this.scope = scope; // parent scope object\n    this.input = input; // first operator in pipeline (tuple input)\n    this.output = output; // last operator in pipeline (tuple output)\n    this.values = values; // operator for accessing tuples (but not tuple flow)\n\n    // last aggregate in transform pipeline\n    this.aggregate = aggr;\n\n    // lookup table of field indices\n    this.index = {};\n  }\n  DataScope.fromEntries = function (scope, entries) {\n    const n = entries.length,\n      values = entries[n - 1],\n      output = entries[n - 2];\n    let input = entries[0],\n      aggr = null,\n      i = 1;\n    if (input && input.type === 'load') {\n      input = entries[1];\n    }\n\n    // add operator entries to this scope, wire up pulse chain\n    scope.add(entries[0]);\n    for (; i < n; ++i) {\n      entries[i].params.pulse = ref(entries[i - 1]);\n      scope.add(entries[i]);\n      if (entries[i].type === 'aggregate') aggr = entries[i];\n    }\n    return new DataScope(scope, input, output, values, aggr);\n  };\n  function fieldKey(field) {\n    return vegaUtil.isString(field) ? field : null;\n  }\n  function addSortField(scope, p, sort) {\n    const as = aggrField(sort.op, sort.field);\n    let s;\n    if (p.ops) {\n      for (let i = 0, n = p.as.length; i < n; ++i) {\n        if (p.as[i] === as) return;\n      }\n    } else {\n      p.ops = ['count'];\n      p.fields = [null];\n      p.as = ['count'];\n    }\n    if (sort.op) {\n      p.ops.push((s = sort.op.signal) ? scope.signalRef(s) : sort.op);\n      p.fields.push(scope.fieldRef(sort.field));\n      p.as.push(as);\n    }\n  }\n  function cache(scope, ds, name, optype, field, counts, index) {\n    const cache = ds[name] || (ds[name] = {}),\n      sort = sortKey(counts);\n    let k = fieldKey(field),\n      v,\n      op;\n    if (k != null) {\n      scope = ds.scope;\n      k = k + (sort ? '|' + sort : '');\n      v = cache[k];\n    }\n    if (!v) {\n      const params = counts ? {\n        field: keyFieldRef,\n        pulse: ds.countsRef(scope, field, counts)\n      } : {\n        field: scope.fieldRef(field),\n        pulse: ref(ds.output)\n      };\n      if (sort) params.sort = scope.sortRef(counts);\n      op = scope.add(entry(optype, undefined, params));\n      if (index) ds.index[field] = op;\n      v = ref(op);\n      if (k != null) cache[k] = v;\n    }\n    return v;\n  }\n  DataScope.prototype = {\n    countsRef(scope, field, sort) {\n      const ds = this,\n        cache = ds.counts || (ds.counts = {}),\n        k = fieldKey(field);\n      let v, a, p;\n      if (k != null) {\n        scope = ds.scope;\n        v = cache[k];\n      }\n      if (!v) {\n        p = {\n          groupby: scope.fieldRef(field, 'key'),\n          pulse: ref(ds.output)\n        };\n        if (sort && sort.field) addSortField(scope, p, sort);\n        a = scope.add(Aggregate(p));\n        v = scope.add(Collect({\n          pulse: ref(a)\n        }));\n        v = {\n          agg: a,\n          ref: ref(v)\n        };\n        if (k != null) cache[k] = v;\n      } else if (sort && sort.field) {\n        addSortField(scope, v.agg.params, sort);\n      }\n      return v.ref;\n    },\n    tuplesRef() {\n      return ref(this.values);\n    },\n    extentRef(scope, field) {\n      return cache(scope, this, 'extent', 'extent', field, false);\n    },\n    domainRef(scope, field) {\n      return cache(scope, this, 'domain', 'values', field, false);\n    },\n    valuesRef(scope, field, sort) {\n      return cache(scope, this, 'vals', 'values', field, sort || true);\n    },\n    lookupRef(scope, field) {\n      return cache(scope, this, 'lookup', 'tupleindex', field, false);\n    },\n    indataRef(scope, field) {\n      return cache(scope, this, 'indata', 'tupleindex', field, true, true);\n    }\n  };\n\n  function parseFacet (spec, scope, group) {\n    const facet = spec.from.facet,\n      name = facet.name,\n      data = getDataRef(facet, scope);\n    let op;\n    if (!facet.name) {\n      vegaUtil.error('Facet must have a name: ' + vegaUtil.stringValue(facet));\n    }\n    if (!facet.data) {\n      vegaUtil.error('Facet must reference a data set: ' + vegaUtil.stringValue(facet));\n    }\n    if (facet.field) {\n      op = scope.add(PreFacet({\n        field: scope.fieldRef(facet.field),\n        pulse: data\n      }));\n    } else if (facet.groupby) {\n      op = scope.add(Facet({\n        key: scope.keyRef(facet.groupby),\n        group: ref(scope.proxy(group.parent)),\n        pulse: data\n      }));\n    } else {\n      vegaUtil.error('Facet must specify groupby or field: ' + vegaUtil.stringValue(facet));\n    }\n\n    // initialize facet subscope\n    const subscope = scope.fork(),\n      source = subscope.add(Collect()),\n      values = subscope.add(Sieve({\n        pulse: ref(source)\n      }));\n    subscope.addData(name, new DataScope(subscope, source, source, values));\n    subscope.addSignal('parent', null);\n\n    // parse faceted subflow\n    op.params.subflow = {\n      $subflow: subscope.parse(spec).toRuntime()\n    };\n  }\n\n  function parseSubflow (spec, scope, input) {\n    const op = scope.add(PreFacet({\n        pulse: input.pulse\n      })),\n      subscope = scope.fork();\n    subscope.add(Sieve());\n    subscope.addSignal('parent', null);\n\n    // parse group mark subflow\n    op.params.subflow = {\n      $subflow: subscope.parse(spec).toRuntime()\n    };\n  }\n\n  function parseTrigger (spec, scope, name) {\n    const remove = spec.remove,\n      insert = spec.insert,\n      toggle = spec.toggle,\n      modify = spec.modify,\n      values = spec.values,\n      op = scope.add(operator());\n    const update = 'if(' + spec.trigger + ',modify(\"' + name + '\",' + [insert, remove, toggle, modify, values].map(_ => _ == null ? 'null' : _).join(',') + '),0)';\n    const expr = vegaFunctions.parseExpression(update, scope);\n    op.update = expr.$expr;\n    op.params = expr.$params;\n  }\n\n  function parseMark (spec, scope) {\n    const role = getRole(spec),\n      group = spec.type === GroupMark,\n      facet = spec.from && spec.from.facet,\n      overlap = spec.overlap;\n    let layout = spec.layout || role === ScopeRole || role === FrameRole,\n      ops,\n      op,\n      store,\n      enc,\n      name,\n      layoutRef,\n      boundRef;\n    const nested = role === MarkRole || layout || facet;\n\n    // resolve input data\n    const input = parseData$1(spec.from, group, scope);\n\n    // data join to map tuples to visual items\n    op = scope.add(DataJoin({\n      key: input.key || (spec.key ? fieldRef$1(spec.key) : undefined),\n      pulse: input.pulse,\n      clean: !group\n    }));\n    const joinRef = ref(op);\n\n    // collect visual items\n    op = store = scope.add(Collect({\n      pulse: joinRef\n    }));\n\n    // connect visual items to scenegraph\n    op = scope.add(Mark({\n      markdef: definition(spec),\n      interactive: interactive(spec.interactive, scope),\n      clip: clip(spec.clip, scope),\n      context: {\n        $context: true\n      },\n      groups: scope.lookup(),\n      parent: scope.signals.parent ? scope.signalRef('parent') : null,\n      index: scope.markpath(),\n      pulse: ref(op)\n    }));\n    const markRef = ref(op);\n\n    // add visual encoders\n    op = enc = scope.add(Encode(parseEncode(spec.encode, spec.type, role, spec.style, scope, {\n      mod: false,\n      pulse: markRef\n    })));\n\n    // monitor parent marks to propagate changes\n    op.params.parent = scope.encode();\n\n    // add post-encoding transforms, if defined\n    if (spec.transform) {\n      spec.transform.forEach(_ => {\n        const tx = parseTransform(_, scope),\n          md = tx.metadata;\n        if (md.generates || md.changes) {\n          vegaUtil.error('Mark transforms should not generate new data.');\n        }\n        if (!md.nomod) enc.params.mod = true; // update encode mod handling\n        tx.params.pulse = ref(op);\n        scope.add(op = tx);\n      });\n    }\n\n    // if item sort specified, perform post-encoding\n    if (spec.sort) {\n      op = scope.add(SortItems({\n        sort: scope.compareRef(spec.sort),\n        pulse: ref(op)\n      }));\n    }\n    const encodeRef = ref(op);\n\n    // add view layout operator if needed\n    if (facet || layout) {\n      layout = scope.add(ViewLayout({\n        layout: scope.objectProperty(spec.layout),\n        legends: scope.legends,\n        mark: markRef,\n        pulse: encodeRef\n      }));\n      layoutRef = ref(layout);\n    }\n\n    // compute bounding boxes\n    const bound = scope.add(Bound({\n      mark: markRef,\n      pulse: layoutRef || encodeRef\n    }));\n    boundRef = ref(bound);\n\n    // if group mark, recurse to parse nested content\n    if (group) {\n      // juggle layout & bounds to ensure they run *after* any faceting transforms\n      if (nested) {\n        ops = scope.operators;\n        ops.pop();\n        if (layout) ops.pop();\n      }\n      scope.pushState(encodeRef, layoutRef || boundRef, joinRef);\n      facet ? parseFacet(spec, scope, input) // explicit facet\n      : nested ? parseSubflow(spec, scope, input) // standard mark group\n      : scope.parse(spec); // guide group, we can avoid nested scopes\n      scope.popState();\n      if (nested) {\n        if (layout) ops.push(layout);\n        ops.push(bound);\n      }\n    }\n\n    // if requested, add overlap removal transform\n    if (overlap) {\n      boundRef = parseOverlap(overlap, boundRef, scope);\n    }\n\n    // render / sieve items\n    const render = scope.add(Render({\n        pulse: boundRef\n      })),\n      sieve = scope.add(Sieve({\n        pulse: ref(render)\n      }, undefined, scope.parent()));\n\n    // if mark is named, make accessible as reactive geometry\n    // add trigger updates if defined\n    if (spec.name != null) {\n      name = spec.name;\n      scope.addData(name, new DataScope(scope, store, render, sieve));\n      if (spec.on) spec.on.forEach(on => {\n        if (on.insert || on.remove || on.toggle) {\n          vegaUtil.error('Marks only support modify triggers.');\n        }\n        parseTrigger(on, scope, name);\n      });\n    }\n  }\n  function parseOverlap(overlap, source, scope) {\n    const method = overlap.method,\n      bound = overlap.bound,\n      sep = overlap.separation;\n    const params = {\n      separation: isSignal(sep) ? scope.signalRef(sep.signal) : sep,\n      method: isSignal(method) ? scope.signalRef(method.signal) : method,\n      pulse: source\n    };\n    if (overlap.order) {\n      params.sort = scope.compareRef({\n        field: overlap.order\n      });\n    }\n    if (bound) {\n      const tol = bound.tolerance;\n      params.boundTolerance = isSignal(tol) ? scope.signalRef(tol.signal) : +tol;\n      params.boundScale = scope.scaleRef(bound.scale);\n      params.boundOrient = bound.orient;\n    }\n    return ref(scope.add(Overlap(params)));\n  }\n\n  function parseLegend (spec, scope) {\n    const config = scope.config.legend,\n      encode = spec.encode || {},\n      _ = lookup(spec, config),\n      legendEncode = encode.legend || {},\n      name = legendEncode.name || undefined,\n      interactive = legendEncode.interactive,\n      style = legendEncode.style,\n      scales = {};\n    let scale = 0,\n      entryLayout,\n      params,\n      children;\n\n    // resolve scales and 'canonical' scale name\n    LegendScales.forEach(s => spec[s] ? (scales[s] = spec[s], scale = scale || spec[s]) : 0);\n    if (!scale) vegaUtil.error('Missing valid scale for legend.');\n\n    // resolve legend type (symbol, gradient, or discrete gradient)\n    const type = legendType(spec, scope.scaleType(scale));\n\n    // single-element data source for legend group\n    const datum = {\n      title: spec.title != null,\n      scales: scales,\n      type: type,\n      vgrad: type !== 'symbol' && _.isVertical()\n    };\n    const dataRef = ref(scope.add(Collect(null, [datum])));\n\n    // encoding properties for legend entry sub-group\n    const entryEncode = {\n      enter: {\n        x: {\n          value: 0\n        },\n        y: {\n          value: 0\n        }\n      }\n    };\n\n    // data source for legend values\n    const entryRef = ref(scope.add(LegendEntries(params = {\n      type: type,\n      scale: scope.scaleRef(scale),\n      count: scope.objectProperty(_('tickCount')),\n      limit: scope.property(_('symbolLimit')),\n      values: scope.objectProperty(spec.values),\n      minstep: scope.property(spec.tickMinStep),\n      formatType: scope.property(spec.formatType),\n      formatSpecifier: scope.property(spec.format)\n    })));\n\n    // continuous gradient legend\n    if (type === Gradient) {\n      children = [legendGradient(spec, scale, config, encode.gradient), legendGradientLabels(spec, config, encode.labels, entryRef)];\n      // adjust default tick count based on the gradient length\n      params.count = params.count || scope.signalRef(`max(2,2*floor((${deref(_.gradientLength())})/100))`);\n    }\n\n    // discrete gradient legend\n    else if (type === Discrete) {\n      children = [legendGradientDiscrete(spec, scale, config, encode.gradient, entryRef), legendGradientLabels(spec, config, encode.labels, entryRef)];\n    }\n\n    // symbol legend\n    else {\n      // determine legend symbol group layout\n      entryLayout = legendSymbolLayout(spec, config);\n      children = [legendSymbolGroups(spec, config, encode, entryRef, deref(entryLayout.columns))];\n      // pass symbol size information to legend entry generator\n      params.size = sizeExpression(spec, scope, children[0].marks);\n    }\n\n    // generate legend marks\n    children = [guideGroup({\n      role: LegendEntryRole,\n      from: dataRef,\n      encode: entryEncode,\n      marks: children,\n      layout: entryLayout,\n      interactive\n    })];\n\n    // include legend title if defined\n    if (datum.title) {\n      children.push(legendTitle(spec, config, encode.title, dataRef));\n    }\n\n    // parse legend specification\n    return parseMark(guideGroup({\n      role: LegendRole,\n      from: dataRef,\n      encode: extendEncode(buildLegendEncode(_, spec, config), legendEncode, Skip),\n      marks: children,\n      aria: _('aria'),\n      description: _('description'),\n      zindex: _('zindex'),\n      name,\n      interactive,\n      style\n    }), scope);\n  }\n  function legendType(spec, scaleType) {\n    let type = spec.type || Symbols;\n    if (!spec.type && scaleCount(spec) === 1 && (spec.fill || spec.stroke)) {\n      type = vegaScale.isContinuous(scaleType) ? Gradient : vegaScale.isDiscretizing(scaleType) ? Discrete : Symbols;\n    }\n    return type !== Gradient ? type : vegaScale.isDiscretizing(scaleType) ? Discrete : Gradient;\n  }\n  function scaleCount(spec) {\n    return LegendScales.reduce((count, type) => count + (spec[type] ? 1 : 0), 0);\n  }\n  function buildLegendEncode(_, spec, config) {\n    const encode = {\n      enter: {},\n      update: {}\n    };\n    addEncoders(encode, {\n      orient: _('orient'),\n      offset: _('offset'),\n      padding: _('padding'),\n      titlePadding: _('titlePadding'),\n      cornerRadius: _('cornerRadius'),\n      fill: _('fillColor'),\n      stroke: _('strokeColor'),\n      strokeWidth: config.strokeWidth,\n      strokeDash: config.strokeDash,\n      x: _('legendX'),\n      y: _('legendY'),\n      // accessibility support\n      format: spec.format,\n      formatType: spec.formatType\n    });\n    return encode;\n  }\n  function sizeExpression(spec, scope, marks) {\n    const size = deref(getChannel('size', spec, marks)),\n      strokeWidth = deref(getChannel('strokeWidth', spec, marks)),\n      fontSize = deref(getFontSize(marks[1].encode, scope, GuideLabelStyle));\n    return vegaFunctions.parseExpression(`max(ceil(sqrt(${size})+${strokeWidth}),${fontSize})`, scope);\n  }\n  function getChannel(name, spec, marks) {\n    return spec[name] ? `scale(\"${spec[name]}\",datum)` : getEncoding(name, marks[0].encode);\n  }\n  function getFontSize(encode, scope, style) {\n    return getEncoding('fontSize', encode) || getStyle('fontSize', scope, style);\n  }\n\n  const angleExpr = `item.orient===\"${Left}\"?-90:item.orient===\"${Right}\"?90:0`;\n  function parseTitle (spec, scope) {\n    spec = vegaUtil.isString(spec) ? {\n      text: spec\n    } : spec;\n    const _ = lookup(spec, scope.config.title),\n      encode = spec.encode || {},\n      userEncode = encode.group || {},\n      name = userEncode.name || undefined,\n      interactive = userEncode.interactive,\n      style = userEncode.style,\n      children = [];\n\n    // single-element data source for group title\n    const datum = {},\n      dataRef = ref(scope.add(Collect(null, [datum])));\n\n    // include title text\n    children.push(buildTitle(spec, _, titleEncode(spec), dataRef));\n\n    // include subtitle text\n    if (spec.subtitle) {\n      children.push(buildSubTitle(spec, _, encode.subtitle, dataRef));\n    }\n\n    // parse title specification\n    return parseMark(guideGroup({\n      role: TitleRole,\n      from: dataRef,\n      encode: groupEncode(_, userEncode),\n      marks: children,\n      aria: _('aria'),\n      description: _('description'),\n      zindex: _('zindex'),\n      name,\n      interactive,\n      style\n    }), scope);\n  }\n\n  // provide backwards-compatibility for title custom encode;\n  // the top-level encode block has been *deprecated*.\n  function titleEncode(spec) {\n    const encode = spec.encode;\n    return encode && encode.title || vegaUtil.extend({\n      name: spec.name,\n      interactive: spec.interactive,\n      style: spec.style\n    }, encode);\n  }\n  function groupEncode(_, userEncode) {\n    const encode = {\n      enter: {},\n      update: {}\n    };\n    addEncoders(encode, {\n      orient: _('orient'),\n      anchor: _('anchor'),\n      align: {\n        signal: alignExpr$1\n      },\n      angle: {\n        signal: angleExpr\n      },\n      limit: _('limit'),\n      frame: _('frame'),\n      offset: _('offset') || 0,\n      padding: _('subtitlePadding')\n    });\n    return extendEncode(encode, userEncode, Skip);\n  }\n  function buildTitle(spec, _, userEncode, dataRef) {\n    const zero = {\n        value: 0\n      },\n      text = spec.text,\n      encode = {\n        enter: {\n          opacity: zero\n        },\n        update: {\n          opacity: {\n            value: 1\n          }\n        },\n        exit: {\n          opacity: zero\n        }\n      };\n    addEncoders(encode, {\n      text: text,\n      align: {\n        signal: 'item.mark.group.align'\n      },\n      angle: {\n        signal: 'item.mark.group.angle'\n      },\n      limit: {\n        signal: 'item.mark.group.limit'\n      },\n      baseline: 'top',\n      dx: _('dx'),\n      dy: _('dy'),\n      fill: _('color'),\n      font: _('font'),\n      fontSize: _('fontSize'),\n      fontStyle: _('fontStyle'),\n      fontWeight: _('fontWeight'),\n      lineHeight: _('lineHeight')\n    }, {\n      // update\n      align: _('align'),\n      angle: _('angle'),\n      baseline: _('baseline')\n    });\n    return guideMark({\n      type: TextMark,\n      role: TitleTextRole,\n      style: GroupTitleStyle,\n      from: dataRef,\n      encode\n    }, userEncode);\n  }\n  function buildSubTitle(spec, _, userEncode, dataRef) {\n    const zero = {\n        value: 0\n      },\n      text = spec.subtitle,\n      encode = {\n        enter: {\n          opacity: zero\n        },\n        update: {\n          opacity: {\n            value: 1\n          }\n        },\n        exit: {\n          opacity: zero\n        }\n      };\n    addEncoders(encode, {\n      text: text,\n      align: {\n        signal: 'item.mark.group.align'\n      },\n      angle: {\n        signal: 'item.mark.group.angle'\n      },\n      limit: {\n        signal: 'item.mark.group.limit'\n      },\n      baseline: 'top',\n      dx: _('dx'),\n      dy: _('dy'),\n      fill: _('subtitleColor'),\n      font: _('subtitleFont'),\n      fontSize: _('subtitleFontSize'),\n      fontStyle: _('subtitleFontStyle'),\n      fontWeight: _('subtitleFontWeight'),\n      lineHeight: _('subtitleLineHeight')\n    }, {\n      // update\n      align: _('align'),\n      angle: _('angle'),\n      baseline: _('baseline')\n    });\n    return guideMark({\n      type: TextMark,\n      role: TitleSubtitleRole,\n      style: GroupSubtitleStyle,\n      from: dataRef,\n      encode\n    }, userEncode);\n  }\n\n  function parseData(data, scope) {\n    const transforms = [];\n    if (data.transform) {\n      data.transform.forEach(tx => {\n        transforms.push(parseTransform(tx, scope));\n      });\n    }\n    if (data.on) {\n      data.on.forEach(on => {\n        parseTrigger(on, scope, data.name);\n      });\n    }\n    scope.addDataPipeline(data.name, analyze(data, scope, transforms));\n  }\n\n  /**\n   * Analyze a data pipeline, add needed operators.\n   */\n  function analyze(data, scope, ops) {\n    const output = [];\n    let source = null,\n      modify = false,\n      generate = false,\n      upstream,\n      i,\n      n,\n      t,\n      m;\n    if (data.values) {\n      // hard-wired input data set\n      if (isSignal(data.values) || hasSignal(data.format)) {\n        // if either values is signal or format has signal, use dynamic loader\n        output.push(load(scope, data));\n        output.push(source = collect());\n      } else {\n        // otherwise, ingest upon dataflow init\n        output.push(source = collect({\n          $ingest: data.values,\n          $format: data.format\n        }));\n      }\n    } else if (data.url) {\n      // load data from external source\n      if (hasSignal(data.url) || hasSignal(data.format)) {\n        // if either url or format has signal, use dynamic loader\n        output.push(load(scope, data));\n        output.push(source = collect());\n      } else {\n        // otherwise, request load upon dataflow init\n        output.push(source = collect({\n          $request: data.url,\n          $format: data.format\n        }));\n      }\n    } else if (data.source) {\n      // derives from one or more other data sets\n      source = upstream = vegaUtil.array(data.source).map(d => ref(scope.getData(d).output));\n      output.push(null); // populate later\n    }\n\n    // scan data transforms, add collectors as needed\n    for (i = 0, n = ops.length; i < n; ++i) {\n      t = ops[i];\n      m = t.metadata;\n      if (!source && !m.source) {\n        output.push(source = collect());\n      }\n      output.push(t);\n      if (m.generates) generate = true;\n      if (m.modifies && !generate) modify = true;\n      if (m.source) source = t;else if (m.changes) source = null;\n    }\n    if (upstream) {\n      n = upstream.length - 1;\n      output[0] = Relay({\n        derive: modify,\n        pulse: n ? upstream : upstream[0]\n      });\n      if (modify || n) {\n        // collect derived and multi-pulse tuples\n        output.splice(1, 0, collect());\n      }\n    }\n    if (!source) output.push(collect());\n    output.push(Sieve({}));\n    return output;\n  }\n  function collect(values) {\n    const s = Collect({}, values);\n    s.metadata = {\n      source: true\n    };\n    return s;\n  }\n  function load(scope, data) {\n    return Load({\n      url: data.url ? scope.property(data.url) : undefined,\n      async: data.async ? scope.property(data.async) : undefined,\n      values: data.values ? scope.property(data.values) : undefined,\n      format: scope.objectProperty(data.format)\n    });\n  }\n\n  const isX = orient => orient === Bottom || orient === Top;\n\n  // get sign coefficient based on axis orient\n  const getSign = (orient, a, b) => isSignal(orient) ? ifLeftTopExpr(orient.signal, a, b) : orient === Left || orient === Top ? a : b;\n\n  // condition on axis x-direction\n  const ifX = (orient, a, b) => isSignal(orient) ? ifXEnc(orient.signal, a, b) : isX(orient) ? a : b;\n\n  // condition on axis y-direction\n  const ifY = (orient, a, b) => isSignal(orient) ? ifYEnc(orient.signal, a, b) : isX(orient) ? b : a;\n  const ifTop = (orient, a, b) => isSignal(orient) ? ifTopExpr(orient.signal, a, b) : orient === Top ? {\n    value: a\n  } : {\n    value: b\n  };\n  const ifRight = (orient, a, b) => isSignal(orient) ? ifRightExpr(orient.signal, a, b) : orient === Right ? {\n    value: a\n  } : {\n    value: b\n  };\n  const ifXEnc = ($orient, a, b) => ifEnc(`${$orient} === '${Top}' || ${$orient} === '${Bottom}'`, a, b);\n  const ifYEnc = ($orient, a, b) => ifEnc(`${$orient} !== '${Top}' && ${$orient} !== '${Bottom}'`, a, b);\n  const ifLeftTopExpr = ($orient, a, b) => ifExpr(`${$orient} === '${Left}' || ${$orient} === '${Top}'`, a, b);\n  const ifTopExpr = ($orient, a, b) => ifExpr(`${$orient} === '${Top}'`, a, b);\n  const ifRightExpr = ($orient, a, b) => ifExpr(`${$orient} === '${Right}'`, a, b);\n  const ifEnc = (test, a, b) => {\n    // ensure inputs are encoder objects (or null)\n    a = a != null ? encoder(a) : a;\n    b = b != null ? encoder(b) : b;\n    if (isSimple(a) && isSimple(b)) {\n      // if possible generate simple signal expression\n      a = a ? a.signal || vegaUtil.stringValue(a.value) : null;\n      b = b ? b.signal || vegaUtil.stringValue(b.value) : null;\n      return {\n        signal: `${test} ? (${a}) : (${b})`\n      };\n    } else {\n      // otherwise generate rule set\n      return [vegaUtil.extend({\n        test\n      }, a)].concat(b || []);\n    }\n  };\n  const isSimple = enc => enc == null || Object.keys(enc).length === 1;\n  const ifExpr = (test, a, b) => ({\n    signal: `${test} ? (${toExpr(a)}) : (${toExpr(b)})`\n  });\n  const ifOrient = ($orient, t, b, l, r) => ({\n    signal: (l != null ? `${$orient} === '${Left}' ? (${toExpr(l)}) : ` : '') + (b != null ? `${$orient} === '${Bottom}' ? (${toExpr(b)}) : ` : '') + (r != null ? `${$orient} === '${Right}' ? (${toExpr(r)}) : ` : '') + (t != null ? `${$orient} === '${Top}' ? (${toExpr(t)}) : ` : '') + '(null)'\n  });\n  const toExpr = v => isSignal(v) ? v.signal : v == null ? null : vegaUtil.stringValue(v);\n  const mult = (sign, value) => value === 0 ? 0 : isSignal(sign) ? {\n    signal: `(${sign.signal}) * ${value}`\n  } : {\n    value: sign * value\n  };\n  const patch = (value, base) => {\n    const s = value.signal;\n    return s && s.endsWith('(null)') ? {\n      signal: s.slice(0, -6) + base.signal\n    } : value;\n  };\n\n  function fallback(prop, config, axisConfig, style) {\n    let styleProp;\n    if (config && vegaUtil.hasOwnProperty(config, prop)) {\n      return config[prop];\n    } else if (vegaUtil.hasOwnProperty(axisConfig, prop)) {\n      return axisConfig[prop];\n    } else if (prop.startsWith('title')) {\n      switch (prop) {\n        case 'titleColor':\n          styleProp = 'fill';\n          break;\n        case 'titleFont':\n        case 'titleFontSize':\n        case 'titleFontWeight':\n          styleProp = prop[5].toLowerCase() + prop.slice(6);\n      }\n      return style[GuideTitleStyle][styleProp];\n    } else if (prop.startsWith('label')) {\n      switch (prop) {\n        case 'labelColor':\n          styleProp = 'fill';\n          break;\n        case 'labelFont':\n        case 'labelFontSize':\n          styleProp = prop[5].toLowerCase() + prop.slice(6);\n      }\n      return style[GuideLabelStyle][styleProp];\n    }\n    return null;\n  }\n  function keys(objects) {\n    const map = {};\n    for (const obj of objects) {\n      if (!obj) continue;\n      for (const key in obj) map[key] = 1;\n    }\n    return Object.keys(map);\n  }\n  function axisConfig (spec, scope) {\n    var config = scope.config,\n      style = config.style,\n      axis = config.axis,\n      band = scope.scaleType(spec.scale) === 'band' && config.axisBand,\n      orient = spec.orient,\n      xy,\n      or,\n      key;\n    if (isSignal(orient)) {\n      const xyKeys = keys([config.axisX, config.axisY]),\n        orientKeys = keys([config.axisTop, config.axisBottom, config.axisLeft, config.axisRight]);\n      xy = {};\n      for (key of xyKeys) {\n        xy[key] = ifX(orient, fallback(key, config.axisX, axis, style), fallback(key, config.axisY, axis, style));\n      }\n      or = {};\n      for (key of orientKeys) {\n        or[key] = ifOrient(orient.signal, fallback(key, config.axisTop, axis, style), fallback(key, config.axisBottom, axis, style), fallback(key, config.axisLeft, axis, style), fallback(key, config.axisRight, axis, style));\n      }\n    } else {\n      xy = orient === Top || orient === Bottom ? config.axisX : config.axisY;\n      or = config['axis' + orient[0].toUpperCase() + orient.slice(1)];\n    }\n    const result = xy || or || band ? vegaUtil.extend({}, axis, xy, or, band) : axis;\n    return result;\n  }\n\n  function axisDomain (spec, config, userEncode, dataRef) {\n    const _ = lookup(spec, config),\n      orient = spec.orient;\n    let enter, update;\n    const encode = {\n      enter: enter = {\n        opacity: zero\n      },\n      update: update = {\n        opacity: one\n      },\n      exit: {\n        opacity: zero\n      }\n    };\n    addEncoders(encode, {\n      stroke: _('domainColor'),\n      strokeCap: _('domainCap'),\n      strokeDash: _('domainDash'),\n      strokeDashOffset: _('domainDashOffset'),\n      strokeWidth: _('domainWidth'),\n      strokeOpacity: _('domainOpacity')\n    });\n    const pos0 = position(spec, 0);\n    const pos1 = position(spec, 1);\n    enter.x = update.x = ifX(orient, pos0, zero);\n    enter.x2 = update.x2 = ifX(orient, pos1);\n    enter.y = update.y = ifY(orient, pos0, zero);\n    enter.y2 = update.y2 = ifY(orient, pos1);\n    return guideMark({\n      type: RuleMark,\n      role: AxisDomainRole,\n      from: dataRef,\n      encode\n    }, userEncode);\n  }\n  function position(spec, pos) {\n    return {\n      scale: spec.scale,\n      range: pos\n    };\n  }\n\n  function axisGrid (spec, config, userEncode, dataRef, band) {\n    const _ = lookup(spec, config),\n      orient = spec.orient,\n      vscale = spec.gridScale,\n      sign = getSign(orient, 1, -1),\n      offset = offsetValue(spec.offset, sign);\n    let enter, exit, update;\n    const encode = {\n      enter: enter = {\n        opacity: zero\n      },\n      update: update = {\n        opacity: one\n      },\n      exit: exit = {\n        opacity: zero\n      }\n    };\n    addEncoders(encode, {\n      stroke: _('gridColor'),\n      strokeCap: _('gridCap'),\n      strokeDash: _('gridDash'),\n      strokeDashOffset: _('gridDashOffset'),\n      strokeOpacity: _('gridOpacity'),\n      strokeWidth: _('gridWidth')\n    });\n    const tickPos = {\n      scale: spec.scale,\n      field: Value,\n      band: band.band,\n      extra: band.extra,\n      offset: band.offset,\n      round: _('tickRound')\n    };\n    const sz = ifX(orient, {\n      signal: 'height'\n    }, {\n      signal: 'width'\n    });\n    const gridStart = vscale ? {\n      scale: vscale,\n      range: 0,\n      mult: sign,\n      offset: offset\n    } : {\n      value: 0,\n      offset: offset\n    };\n    const gridEnd = vscale ? {\n      scale: vscale,\n      range: 1,\n      mult: sign,\n      offset: offset\n    } : vegaUtil.extend(sz, {\n      mult: sign,\n      offset: offset\n    });\n    enter.x = update.x = ifX(orient, tickPos, gridStart);\n    enter.y = update.y = ifY(orient, tickPos, gridStart);\n    enter.x2 = update.x2 = ifY(orient, gridEnd);\n    enter.y2 = update.y2 = ifX(orient, gridEnd);\n    exit.x = ifX(orient, tickPos);\n    exit.y = ifY(orient, tickPos);\n    return guideMark({\n      type: RuleMark,\n      role: AxisGridRole,\n      key: Value,\n      from: dataRef,\n      encode\n    }, userEncode);\n  }\n  function offsetValue(offset, sign) {\n    if (sign === 1) ; else if (!vegaUtil.isObject(offset)) {\n      offset = isSignal(sign) ? {\n        signal: `(${sign.signal}) * (${offset || 0})`\n      } : sign * (offset || 0);\n    } else {\n      let entry = offset = vegaUtil.extend({}, offset);\n      while (entry.mult != null) {\n        if (!vegaUtil.isObject(entry.mult)) {\n          entry.mult = isSignal(sign) // no offset if sign === 1\n          ? {\n            signal: `(${entry.mult}) * (${sign.signal})`\n          } : entry.mult * sign;\n          return offset;\n        } else {\n          entry = entry.mult = vegaUtil.extend({}, entry.mult);\n        }\n      }\n      entry.mult = sign;\n    }\n    return offset;\n  }\n\n  function axisTicks (spec, config, userEncode, dataRef, size, band) {\n    const _ = lookup(spec, config),\n      orient = spec.orient,\n      sign = getSign(orient, -1, 1);\n    let enter, exit, update;\n    const encode = {\n      enter: enter = {\n        opacity: zero\n      },\n      update: update = {\n        opacity: one\n      },\n      exit: exit = {\n        opacity: zero\n      }\n    };\n    addEncoders(encode, {\n      stroke: _('tickColor'),\n      strokeCap: _('tickCap'),\n      strokeDash: _('tickDash'),\n      strokeDashOffset: _('tickDashOffset'),\n      strokeOpacity: _('tickOpacity'),\n      strokeWidth: _('tickWidth')\n    });\n    const tickSize = encoder(size);\n    tickSize.mult = sign;\n    const tickPos = {\n      scale: spec.scale,\n      field: Value,\n      band: band.band,\n      extra: band.extra,\n      offset: band.offset,\n      round: _('tickRound')\n    };\n    update.y = enter.y = ifX(orient, zero, tickPos);\n    update.y2 = enter.y2 = ifX(orient, tickSize);\n    exit.x = ifX(orient, tickPos);\n    update.x = enter.x = ifY(orient, zero, tickPos);\n    update.x2 = enter.x2 = ifY(orient, tickSize);\n    exit.y = ifY(orient, tickPos);\n    return guideMark({\n      type: RuleMark,\n      role: AxisTickRole,\n      key: Value,\n      from: dataRef,\n      encode\n    }, userEncode);\n  }\n\n  function flushExpr(scale, threshold, a, b, c) {\n    return {\n      signal: 'flush(range(\"' + scale + '\"), ' + 'scale(\"' + scale + '\", datum.value), ' + threshold + ',' + a + ',' + b + ',' + c + ')'\n    };\n  }\n  function axisLabels (spec, config, userEncode, dataRef, size, band) {\n    const _ = lookup(spec, config),\n      orient = spec.orient,\n      scale = spec.scale,\n      sign = getSign(orient, -1, 1),\n      flush = deref(_('labelFlush')),\n      flushOffset = deref(_('labelFlushOffset')),\n      labelAlign = _('labelAlign'),\n      labelBaseline = _('labelBaseline');\n    let flushOn = flush === 0 || !!flush,\n      update;\n    const tickSize = encoder(size);\n    tickSize.mult = sign;\n    tickSize.offset = encoder(_('labelPadding') || 0);\n    tickSize.offset.mult = sign;\n    const tickPos = {\n      scale: scale,\n      field: Value,\n      band: 0.5,\n      offset: extendOffset(band.offset, _('labelOffset'))\n    };\n    const align = ifX(orient, flushOn ? flushExpr(scale, flush, '\"left\"', '\"right\"', '\"center\"') : {\n      value: 'center'\n    }, ifRight(orient, 'left', 'right'));\n    const baseline = ifX(orient, ifTop(orient, 'bottom', 'top'), flushOn ? flushExpr(scale, flush, '\"top\"', '\"bottom\"', '\"middle\"') : {\n      value: 'middle'\n    });\n    const offsetExpr = flushExpr(scale, flush, `-(${flushOffset})`, flushOffset, 0);\n    flushOn = flushOn && flushOffset;\n    const enter = {\n      opacity: zero,\n      x: ifX(orient, tickPos, tickSize),\n      y: ifY(orient, tickPos, tickSize)\n    };\n    const encode = {\n      enter: enter,\n      update: update = {\n        opacity: one,\n        text: {\n          field: Label\n        },\n        x: enter.x,\n        y: enter.y,\n        align,\n        baseline\n      },\n      exit: {\n        opacity: zero,\n        x: enter.x,\n        y: enter.y\n      }\n    };\n    addEncoders(encode, {\n      dx: !labelAlign && flushOn ? ifX(orient, offsetExpr) : null,\n      dy: !labelBaseline && flushOn ? ifY(orient, offsetExpr) : null\n    });\n    addEncoders(encode, {\n      angle: _('labelAngle'),\n      fill: _('labelColor'),\n      fillOpacity: _('labelOpacity'),\n      font: _('labelFont'),\n      fontSize: _('labelFontSize'),\n      fontWeight: _('labelFontWeight'),\n      fontStyle: _('labelFontStyle'),\n      limit: _('labelLimit'),\n      lineHeight: _('labelLineHeight')\n    }, {\n      align: labelAlign,\n      baseline: labelBaseline\n    });\n    const bound = _('labelBound');\n    let overlap = _('labelOverlap');\n\n    // if overlap method or bound defined, request label overlap removal\n    overlap = overlap || bound ? {\n      separation: _('labelSeparation'),\n      method: overlap,\n      order: 'datum.index',\n      bound: bound ? {\n        scale,\n        orient,\n        tolerance: bound\n      } : null\n    } : undefined;\n    if (update.align !== align) {\n      update.align = patch(update.align, align);\n    }\n    if (update.baseline !== baseline) {\n      update.baseline = patch(update.baseline, baseline);\n    }\n    return guideMark({\n      type: TextMark,\n      role: AxisLabelRole,\n      style: GuideLabelStyle,\n      key: Value,\n      from: dataRef,\n      encode,\n      overlap\n    }, userEncode);\n  }\n\n  function axisTitle (spec, config, userEncode, dataRef) {\n    const _ = lookup(spec, config),\n      orient = spec.orient,\n      sign = getSign(orient, -1, 1);\n    let enter, update;\n    const encode = {\n      enter: enter = {\n        opacity: zero,\n        anchor: encoder(_('titleAnchor', null)),\n        align: {\n          signal: alignExpr$1\n        }\n      },\n      update: update = vegaUtil.extend({}, enter, {\n        opacity: one,\n        text: encoder(spec.title)\n      }),\n      exit: {\n        opacity: zero\n      }\n    };\n    const titlePos = {\n      signal: `lerp(range(\"${spec.scale}\"), ${anchorExpr(0, 1, 0.5)})`\n    };\n    update.x = ifX(orient, titlePos);\n    update.y = ifY(orient, titlePos);\n    enter.angle = ifX(orient, zero, mult(sign, 90));\n    enter.baseline = ifX(orient, ifTop(orient, Bottom, Top), {\n      value: Bottom\n    });\n    update.angle = enter.angle;\n    update.baseline = enter.baseline;\n    addEncoders(encode, {\n      fill: _('titleColor'),\n      fillOpacity: _('titleOpacity'),\n      font: _('titleFont'),\n      fontSize: _('titleFontSize'),\n      fontStyle: _('titleFontStyle'),\n      fontWeight: _('titleFontWeight'),\n      limit: _('titleLimit'),\n      lineHeight: _('titleLineHeight')\n    }, {\n      // require update\n      align: _('titleAlign'),\n      angle: _('titleAngle'),\n      baseline: _('titleBaseline')\n    });\n    autoLayout(_, orient, encode, userEncode);\n    encode.update.align = patch(encode.update.align, enter.align);\n    encode.update.angle = patch(encode.update.angle, enter.angle);\n    encode.update.baseline = patch(encode.update.baseline, enter.baseline);\n    return guideMark({\n      type: TextMark,\n      role: AxisTitleRole,\n      style: GuideTitleStyle,\n      from: dataRef,\n      encode\n    }, userEncode);\n  }\n  function autoLayout(_, orient, encode, userEncode) {\n    const auto = (value, dim) => value != null ? (encode.update[dim] = patch(encoder(value), encode.update[dim]), false) : !has(dim, userEncode) ? true : false;\n    const autoY = auto(_('titleX'), 'x'),\n      autoX = auto(_('titleY'), 'y');\n    encode.enter.auto = autoX === autoY ? encoder(autoX) : ifX(orient, encoder(autoX), encoder(autoY));\n  }\n\n  function parseAxis (spec, scope) {\n    const config = axisConfig(spec, scope),\n      encode = spec.encode || {},\n      axisEncode = encode.axis || {},\n      name = axisEncode.name || undefined,\n      interactive = axisEncode.interactive,\n      style = axisEncode.style,\n      _ = lookup(spec, config),\n      band = tickBand(_);\n\n    // single-element data source for axis group\n    const datum = {\n      scale: spec.scale,\n      ticks: !!_('ticks'),\n      labels: !!_('labels'),\n      grid: !!_('grid'),\n      domain: !!_('domain'),\n      title: spec.title != null\n    };\n    const dataRef = ref(scope.add(Collect({}, [datum])));\n\n    // data source for axis ticks\n    const ticksRef = ref(scope.add(AxisTicks({\n      scale: scope.scaleRef(spec.scale),\n      extra: scope.property(band.extra),\n      count: scope.objectProperty(spec.tickCount),\n      values: scope.objectProperty(spec.values),\n      minstep: scope.property(spec.tickMinStep),\n      formatType: scope.property(spec.formatType),\n      formatSpecifier: scope.property(spec.format)\n    })));\n\n    // generate axis marks\n    const children = [];\n    let size;\n\n    // include axis gridlines if requested\n    if (datum.grid) {\n      children.push(axisGrid(spec, config, encode.grid, ticksRef, band));\n    }\n\n    // include axis ticks if requested\n    if (datum.ticks) {\n      size = _('tickSize');\n      children.push(axisTicks(spec, config, encode.ticks, ticksRef, size, band));\n    }\n\n    // include axis labels if requested\n    if (datum.labels) {\n      size = datum.ticks ? size : 0;\n      children.push(axisLabels(spec, config, encode.labels, ticksRef, size, band));\n    }\n\n    // include axis domain path if requested\n    if (datum.domain) {\n      children.push(axisDomain(spec, config, encode.domain, dataRef));\n    }\n\n    // include axis title if defined\n    if (datum.title) {\n      children.push(axisTitle(spec, config, encode.title, dataRef));\n    }\n\n    // parse axis specification\n    return parseMark(guideGroup({\n      role: AxisRole,\n      from: dataRef,\n      encode: extendEncode(buildAxisEncode(_, spec), axisEncode, Skip),\n      marks: children,\n      aria: _('aria'),\n      description: _('description'),\n      zindex: _('zindex'),\n      name,\n      interactive,\n      style\n    }), scope);\n  }\n  function buildAxisEncode(_, spec) {\n    const encode = {\n      enter: {},\n      update: {}\n    };\n    addEncoders(encode, {\n      orient: _('orient'),\n      offset: _('offset') || 0,\n      position: value(spec.position, 0),\n      titlePadding: _('titlePadding'),\n      minExtent: _('minExtent'),\n      maxExtent: _('maxExtent'),\n      range: {\n        signal: `abs(span(range(\"${spec.scale}\")))`\n      },\n      translate: _('translate'),\n      // accessibility support\n      format: spec.format,\n      formatType: spec.formatType\n    });\n    return encode;\n  }\n\n  function parseScope (spec, scope, preprocessed) {\n    const signals = vegaUtil.array(spec.signals),\n      scales = vegaUtil.array(spec.scales);\n\n    // parse signal definitions, if not already preprocessed\n    if (!preprocessed) signals.forEach(_ => parseSignal(_, scope));\n\n    // parse cartographic projection definitions\n    vegaUtil.array(spec.projections).forEach(_ => parseProjection(_, scope));\n\n    // initialize scale references\n    scales.forEach(_ => initScale(_, scope));\n\n    // parse data sources\n    vegaUtil.array(spec.data).forEach(_ => parseData(_, scope));\n\n    // parse scale definitions\n    scales.forEach(_ => parseScale(_, scope));\n\n    // parse signal updates\n    (preprocessed || signals).forEach(_ => parseSignalUpdates(_, scope));\n\n    // parse axis definitions\n    vegaUtil.array(spec.axes).forEach(_ => parseAxis(_, scope));\n\n    // parse mark definitions\n    vegaUtil.array(spec.marks).forEach(_ => parseMark(_, scope));\n\n    // parse legend definitions\n    vegaUtil.array(spec.legends).forEach(_ => parseLegend(_, scope));\n\n    // parse title, if defined\n    if (spec.title) parseTitle(spec.title, scope);\n\n    // parse collected lambda (anonymous) expressions\n    scope.parseLambdas();\n    return scope;\n  }\n\n  const rootEncode = spec => extendEncode({\n    enter: {\n      x: {\n        value: 0\n      },\n      y: {\n        value: 0\n      }\n    },\n    update: {\n      width: {\n        signal: 'width'\n      },\n      height: {\n        signal: 'height'\n      }\n    }\n  }, spec);\n  function parseView(spec, scope) {\n    const config = scope.config;\n\n    // add scenegraph root\n    const root = ref(scope.root = scope.add(operator()));\n\n    // parse top-level signal definitions\n    const signals = collectSignals(spec, config);\n    signals.forEach(_ => parseSignal(_, scope));\n\n    // assign description, event, legend, and locale configuration\n    scope.description = spec.description || config.description;\n    scope.eventConfig = config.events;\n    scope.legends = scope.objectProperty(config.legend && config.legend.layout);\n    scope.locale = config.locale;\n\n    // store root group item\n    const input = scope.add(Collect());\n\n    // encode root group item\n    const encode = scope.add(Encode(parseEncode(rootEncode(spec.encode), GroupMark, FrameRole, spec.style, scope, {\n      pulse: ref(input)\n    })));\n\n    // perform view layout\n    const parent = scope.add(ViewLayout({\n      layout: scope.objectProperty(spec.layout),\n      legends: scope.legends,\n      autosize: scope.signalRef('autosize'),\n      mark: root,\n      pulse: ref(encode)\n    }));\n    scope.operators.pop();\n\n    // parse remainder of specification\n    scope.pushState(ref(encode), ref(parent), null);\n    parseScope(spec, scope, signals);\n    scope.operators.push(parent);\n\n    // bound / render / sieve root item\n    let op = scope.add(Bound({\n      mark: root,\n      pulse: ref(parent)\n    }));\n    op = scope.add(Render({\n      pulse: ref(op)\n    }));\n    op = scope.add(Sieve({\n      pulse: ref(op)\n    }));\n\n    // track metadata for root item\n    scope.addData('root', new DataScope(scope, input, input, op));\n    return scope;\n  }\n  function signalObject(name, value) {\n    return value && value.signal ? {\n      name,\n      update: value.signal\n    } : {\n      name,\n      value\n    };\n  }\n\n  /**\n   * Collect top-level signals, merging values as needed. Signals\n   * defined in the config signals arrays are added only if that\n   * signal is not explicitly defined in the specification.\n   * Built-in signals (autosize, background, padding, width, height)\n   * receive special treatment. They are initialized using the\n   * top-level spec property, or, if undefined in the spec, using\n   * the corresponding top-level config property. If this property\n   * is a signal reference object, the signal expression maps to the\n   * signal 'update' property. If the spec's top-level signal array\n   * contains an entry that matches a built-in signal, that entry\n   * will be merged with the built-in specification, potentially\n   * overwriting existing 'value' or 'update' properties.\n   */\n  function collectSignals(spec, config) {\n    const _ = name => value(spec[name], config[name]),\n      signals = [signalObject('background', _('background')), signalObject('autosize', parseAutosize(_('autosize'))), signalObject('padding', parsePadding(_('padding'))), signalObject('width', _('width') || 0), signalObject('height', _('height') || 0)],\n      pre = signals.reduce((p, s) => (p[s.name] = s, p), {}),\n      map = {};\n\n    // add spec signal array\n    vegaUtil.array(spec.signals).forEach(s => {\n      if (vegaUtil.hasOwnProperty(pre, s.name)) {\n        // merge if built-in signal\n        s = vegaUtil.extend(pre[s.name], s);\n      } else {\n        // otherwise add to signal list\n        signals.push(s);\n      }\n      map[s.name] = s;\n    });\n\n    // add config signal array\n    vegaUtil.array(config.signals).forEach(s => {\n      if (!vegaUtil.hasOwnProperty(map, s.name) && !vegaUtil.hasOwnProperty(pre, s.name)) {\n        // add to signal list if not already defined\n        signals.push(s);\n      }\n    });\n    return signals;\n  }\n\n  function Scope(config, options) {\n    this.config = config || {};\n    this.options = options || {};\n    this.bindings = [];\n    this.field = {};\n    this.signals = {};\n    this.lambdas = {};\n    this.scales = {};\n    this.events = {};\n    this.data = {};\n    this.streams = [];\n    this.updates = [];\n    this.operators = [];\n    this.eventConfig = null;\n    this.locale = null;\n    this._id = 0;\n    this._subid = 0;\n    this._nextsub = [0];\n    this._parent = [];\n    this._encode = [];\n    this._lookup = [];\n    this._markpath = [];\n  }\n  function Subscope(scope) {\n    this.config = scope.config;\n    this.options = scope.options;\n    this.legends = scope.legends;\n    this.field = Object.create(scope.field);\n    this.signals = Object.create(scope.signals);\n    this.lambdas = Object.create(scope.lambdas);\n    this.scales = Object.create(scope.scales);\n    this.events = Object.create(scope.events);\n    this.data = Object.create(scope.data);\n    this.streams = [];\n    this.updates = [];\n    this.operators = [];\n    this._id = 0;\n    this._subid = ++scope._nextsub[0];\n    this._nextsub = scope._nextsub;\n    this._parent = scope._parent.slice();\n    this._encode = scope._encode.slice();\n    this._lookup = scope._lookup.slice();\n    this._markpath = scope._markpath;\n  }\n  Scope.prototype = Subscope.prototype = {\n    parse(spec) {\n      return parseScope(spec, this);\n    },\n    fork() {\n      return new Subscope(this);\n    },\n    isSubscope() {\n      return this._subid > 0;\n    },\n    toRuntime() {\n      this.finish();\n      return {\n        description: this.description,\n        operators: this.operators,\n        streams: this.streams,\n        updates: this.updates,\n        bindings: this.bindings,\n        eventConfig: this.eventConfig,\n        locale: this.locale\n      };\n    },\n    id() {\n      return (this._subid ? this._subid + ':' : 0) + this._id++;\n    },\n    add(op) {\n      this.operators.push(op);\n      op.id = this.id();\n      // if pre-registration references exist, resolve them now\n      if (op.refs) {\n        op.refs.forEach(ref => {\n          ref.$ref = op.id;\n        });\n        op.refs = null;\n      }\n      return op;\n    },\n    proxy(op) {\n      const vref = op instanceof Entry ? ref(op) : op;\n      return this.add(Proxy({\n        value: vref\n      }));\n    },\n    addStream(stream) {\n      this.streams.push(stream);\n      stream.id = this.id();\n      return stream;\n    },\n    addUpdate(update) {\n      this.updates.push(update);\n      return update;\n    },\n    // Apply metadata\n    finish() {\n      let name, ds;\n\n      // annotate root\n      if (this.root) this.root.root = true;\n\n      // annotate signals\n      for (name in this.signals) {\n        this.signals[name].signal = name;\n      }\n\n      // annotate scales\n      for (name in this.scales) {\n        this.scales[name].scale = name;\n      }\n\n      // annotate data sets\n      function annotate(op, name, type) {\n        let data, list;\n        if (op) {\n          data = op.data || (op.data = {});\n          list = data[name] || (data[name] = []);\n          list.push(type);\n        }\n      }\n      for (name in this.data) {\n        ds = this.data[name];\n        annotate(ds.input, name, 'input');\n        annotate(ds.output, name, 'output');\n        annotate(ds.values, name, 'values');\n        for (const field in ds.index) {\n          annotate(ds.index[field], name, 'index:' + field);\n        }\n      }\n      return this;\n    },\n    // ----\n\n    pushState(encode, parent, lookup) {\n      this._encode.push(ref(this.add(Sieve({\n        pulse: encode\n      }))));\n      this._parent.push(parent);\n      this._lookup.push(lookup ? ref(this.proxy(lookup)) : null);\n      this._markpath.push(-1);\n    },\n    popState() {\n      this._encode.pop();\n      this._parent.pop();\n      this._lookup.pop();\n      this._markpath.pop();\n    },\n    parent() {\n      return vegaUtil.peek(this._parent);\n    },\n    encode() {\n      return vegaUtil.peek(this._encode);\n    },\n    lookup() {\n      return vegaUtil.peek(this._lookup);\n    },\n    markpath() {\n      const p = this._markpath;\n      return ++p[p.length - 1];\n    },\n    // ----\n\n    fieldRef(field, name) {\n      if (vegaUtil.isString(field)) return fieldRef$1(field, name);\n      if (!field.signal) {\n        vegaUtil.error('Unsupported field reference: ' + vegaUtil.stringValue(field));\n      }\n      const s = field.signal;\n      let f = this.field[s];\n      if (!f) {\n        const params = {\n          name: this.signalRef(s)\n        };\n        if (name) params.as = name;\n        this.field[s] = f = ref(this.add(Field(params)));\n      }\n      return f;\n    },\n    compareRef(cmp) {\n      let signal = false;\n      const check = _ => isSignal(_) ? (signal = true, this.signalRef(_.signal)) : isExpr$1(_) ? (signal = true, this.exprRef(_.expr)) : _;\n      const fields = vegaUtil.array(cmp.field).map(check),\n        orders = vegaUtil.array(cmp.order).map(check);\n      return signal ? ref(this.add(Compare({\n        fields: fields,\n        orders: orders\n      }))) : compareRef(fields, orders);\n    },\n    keyRef(fields, flat) {\n      let signal = false;\n      const check = _ => isSignal(_) ? (signal = true, ref(sig[_.signal])) : _;\n      const sig = this.signals;\n      fields = vegaUtil.array(fields).map(check);\n      return signal ? ref(this.add(Key({\n        fields: fields,\n        flat: flat\n      }))) : keyRef(fields, flat);\n    },\n    sortRef(sort) {\n      if (!sort) return sort;\n\n      // including id ensures stable sorting\n      const a = aggrField(sort.op, sort.field),\n        o = sort.order || Ascending;\n      return o.signal ? ref(this.add(Compare({\n        fields: a,\n        orders: this.signalRef(o.signal)\n      }))) : compareRef(a, o);\n    },\n    // ----\n\n    event(source, type) {\n      const key = source + ':' + type;\n      if (!this.events[key]) {\n        const id = this.id();\n        this.streams.push({\n          id: id,\n          source: source,\n          type: type\n        });\n        this.events[key] = id;\n      }\n      return this.events[key];\n    },\n    // ----\n\n    hasOwnSignal(name) {\n      return vegaUtil.hasOwnProperty(this.signals, name);\n    },\n    addSignal(name, value) {\n      if (this.hasOwnSignal(name)) {\n        vegaUtil.error('Duplicate signal name: ' + vegaUtil.stringValue(name));\n      }\n      const op = value instanceof Entry ? value : this.add(operator(value));\n      return this.signals[name] = op;\n    },\n    getSignal(name) {\n      if (!this.signals[name]) {\n        vegaUtil.error('Unrecognized signal name: ' + vegaUtil.stringValue(name));\n      }\n      return this.signals[name];\n    },\n    signalRef(s) {\n      if (this.signals[s]) {\n        return ref(this.signals[s]);\n      } else if (!vegaUtil.hasOwnProperty(this.lambdas, s)) {\n        this.lambdas[s] = this.add(operator(null));\n      }\n      return ref(this.lambdas[s]);\n    },\n    parseLambdas() {\n      const code = Object.keys(this.lambdas);\n      for (let i = 0, n = code.length; i < n; ++i) {\n        const s = code[i],\n          e = vegaFunctions.parseExpression(s, this),\n          op = this.lambdas[s];\n        op.params = e.$params;\n        op.update = e.$expr;\n      }\n    },\n    property(spec) {\n      return spec && spec.signal ? this.signalRef(spec.signal) : spec;\n    },\n    objectProperty(spec) {\n      return !spec || !vegaUtil.isObject(spec) ? spec : this.signalRef(spec.signal || propertyLambda(spec));\n    },\n    exprRef(code, name) {\n      const params = {\n        expr: vegaFunctions.parseExpression(code, this)\n      };\n      if (name) params.expr.$name = name;\n      return ref(this.add(Expression(params)));\n    },\n    addBinding(name, bind) {\n      if (!this.bindings) {\n        vegaUtil.error('Nested signals do not support binding: ' + vegaUtil.stringValue(name));\n      }\n      this.bindings.push(vegaUtil.extend({\n        signal: name\n      }, bind));\n    },\n    // ----\n\n    addScaleProj(name, transform) {\n      if (vegaUtil.hasOwnProperty(this.scales, name)) {\n        vegaUtil.error('Duplicate scale or projection name: ' + vegaUtil.stringValue(name));\n      }\n      this.scales[name] = this.add(transform);\n    },\n    addScale(name, params) {\n      this.addScaleProj(name, Scale(params));\n    },\n    addProjection(name, params) {\n      this.addScaleProj(name, Projection(params));\n    },\n    getScale(name) {\n      if (!this.scales[name]) {\n        vegaUtil.error('Unrecognized scale name: ' + vegaUtil.stringValue(name));\n      }\n      return this.scales[name];\n    },\n    scaleRef(name) {\n      return ref(this.getScale(name));\n    },\n    scaleType(name) {\n      return this.getScale(name).params.type;\n    },\n    projectionRef(name) {\n      return this.scaleRef(name);\n    },\n    projectionType(name) {\n      return this.scaleType(name);\n    },\n    // ----\n\n    addData(name, dataScope) {\n      if (vegaUtil.hasOwnProperty(this.data, name)) {\n        vegaUtil.error('Duplicate data set name: ' + vegaUtil.stringValue(name));\n      }\n      return this.data[name] = dataScope;\n    },\n    getData(name) {\n      if (!this.data[name]) {\n        vegaUtil.error('Undefined data set name: ' + vegaUtil.stringValue(name));\n      }\n      return this.data[name];\n    },\n    addDataPipeline(name, entries) {\n      if (vegaUtil.hasOwnProperty(this.data, name)) {\n        vegaUtil.error('Duplicate data set name: ' + vegaUtil.stringValue(name));\n      }\n      return this.addData(name, DataScope.fromEntries(this, entries));\n    }\n  };\n  function propertyLambda(spec) {\n    return (vegaUtil.isArray(spec) ? arrayLambda : objectLambda)(spec);\n  }\n  function arrayLambda(array) {\n    const n = array.length;\n    let code = '[';\n    for (let i = 0; i < n; ++i) {\n      const value = array[i];\n      code += (i > 0 ? ',' : '') + (vegaUtil.isObject(value) ? value.signal || propertyLambda(value) : vegaUtil.stringValue(value));\n    }\n    return code + ']';\n  }\n  function objectLambda(obj) {\n    let code = '{',\n      i = 0,\n      key,\n      value;\n    for (key in obj) {\n      value = obj[key];\n      code += (++i > 1 ? ',' : '') + vegaUtil.stringValue(key) + ':' + (vegaUtil.isObject(value) ? value.signal || propertyLambda(value) : vegaUtil.stringValue(value));\n    }\n    return code + '}';\n  }\n\n  /**\n   * Standard configuration defaults for Vega specification parsing.\n   * Users can provide their own (sub-)set of these default values\n   * by passing in a config object to the top-level parse method.\n   */\n  function defaults () {\n    const defaultFont = 'sans-serif',\n      defaultSymbolSize = 30,\n      defaultStrokeWidth = 2,\n      defaultColor = '#4c78a8',\n      black = '#000',\n      gray = '#888',\n      lightGray = '#ddd';\n    return {\n      // default visualization description\n      description: 'Vega visualization',\n      // default padding around visualization\n      padding: 0,\n      // default for automatic sizing; options: 'none', 'pad', 'fit'\n      // or provide an object (e.g., {'type': 'pad', 'resize': true})\n      autosize: 'pad',\n      // default view background color\n      // covers the entire view component\n      background: null,\n      // default event handling configuration\n      // preventDefault for view-sourced event types except 'wheel'\n      events: {\n        defaults: {\n          allow: ['wheel']\n        }\n      },\n      // defaults for top-level group marks\n      // accepts mark properties (fill, stroke, etc)\n      // covers the data rectangle within group width/height\n      group: null,\n      // defaults for basic mark types\n      // each subset accepts mark properties (fill, stroke, etc)\n      mark: null,\n      arc: {\n        fill: defaultColor\n      },\n      area: {\n        fill: defaultColor\n      },\n      image: null,\n      line: {\n        stroke: defaultColor,\n        strokeWidth: defaultStrokeWidth\n      },\n      path: {\n        stroke: defaultColor\n      },\n      rect: {\n        fill: defaultColor\n      },\n      rule: {\n        stroke: black\n      },\n      shape: {\n        stroke: defaultColor\n      },\n      symbol: {\n        fill: defaultColor,\n        size: 64\n      },\n      text: {\n        fill: black,\n        font: defaultFont,\n        fontSize: 11\n      },\n      trail: {\n        fill: defaultColor,\n        size: defaultStrokeWidth\n      },\n      // style definitions\n      style: {\n        // axis & legend labels\n        'guide-label': {\n          fill: black,\n          font: defaultFont,\n          fontSize: 10\n        },\n        // axis & legend titles\n        'guide-title': {\n          fill: black,\n          font: defaultFont,\n          fontSize: 11,\n          fontWeight: 'bold'\n        },\n        // headers, including chart title\n        'group-title': {\n          fill: black,\n          font: defaultFont,\n          fontSize: 13,\n          fontWeight: 'bold'\n        },\n        // chart subtitle\n        'group-subtitle': {\n          fill: black,\n          font: defaultFont,\n          fontSize: 12\n        },\n        // defaults for styled point marks in Vega-Lite\n        point: {\n          size: defaultSymbolSize,\n          strokeWidth: defaultStrokeWidth,\n          shape: 'circle'\n        },\n        circle: {\n          size: defaultSymbolSize,\n          strokeWidth: defaultStrokeWidth\n        },\n        square: {\n          size: defaultSymbolSize,\n          strokeWidth: defaultStrokeWidth,\n          shape: 'square'\n        },\n        // defaults for styled group marks in Vega-Lite\n        cell: {\n          fill: 'transparent',\n          stroke: lightGray\n        },\n        view: {\n          fill: 'transparent'\n        }\n      },\n      // defaults for title\n      title: {\n        orient: 'top',\n        anchor: 'middle',\n        offset: 4,\n        subtitlePadding: 3\n      },\n      // defaults for axes\n      axis: {\n        minExtent: 0,\n        maxExtent: 200,\n        bandPosition: 0.5,\n        domain: true,\n        domainWidth: 1,\n        domainColor: gray,\n        grid: false,\n        gridWidth: 1,\n        gridColor: lightGray,\n        labels: true,\n        labelAngle: 0,\n        labelLimit: 180,\n        labelOffset: 0,\n        labelPadding: 2,\n        ticks: true,\n        tickColor: gray,\n        tickOffset: 0,\n        tickRound: true,\n        tickSize: 5,\n        tickWidth: 1,\n        titlePadding: 4\n      },\n      // correction for centering bias\n      axisBand: {\n        tickOffset: -0.5\n      },\n      // defaults for cartographic projection\n      projection: {\n        type: 'mercator'\n      },\n      // defaults for legends\n      legend: {\n        orient: 'right',\n        padding: 0,\n        gridAlign: 'each',\n        columnPadding: 10,\n        rowPadding: 2,\n        symbolDirection: 'vertical',\n        gradientDirection: 'vertical',\n        gradientLength: 200,\n        gradientThickness: 16,\n        gradientStrokeColor: lightGray,\n        gradientStrokeWidth: 0,\n        gradientLabelOffset: 2,\n        labelAlign: 'left',\n        labelBaseline: 'middle',\n        labelLimit: 160,\n        labelOffset: 4,\n        labelOverlap: true,\n        symbolLimit: 30,\n        symbolType: 'circle',\n        symbolSize: 100,\n        symbolOffset: 0,\n        symbolStrokeWidth: 1.5,\n        symbolBaseFillColor: 'transparent',\n        symbolBaseStrokeColor: gray,\n        titleLimit: 180,\n        titleOrient: 'top',\n        titlePadding: 5,\n        layout: {\n          offset: 18,\n          direction: 'horizontal',\n          left: {\n            direction: 'vertical'\n          },\n          right: {\n            direction: 'vertical'\n          }\n        }\n      },\n      // defaults for scale ranges\n      range: {\n        category: {\n          scheme: 'tableau10'\n        },\n        ordinal: {\n          scheme: 'blues'\n        },\n        heatmap: {\n          scheme: 'yellowgreenblue'\n        },\n        ramp: {\n          scheme: 'blues'\n        },\n        diverging: {\n          scheme: 'blueorange',\n          extent: [1, 0]\n        },\n        symbol: ['circle', 'square', 'triangle-up', 'cross', 'diamond', 'triangle-right', 'triangle-down', 'triangle-left']\n      }\n    };\n  }\n\n  function parse (spec, config, options) {\n    if (!vegaUtil.isObject(spec)) {\n      vegaUtil.error('Input Vega specification must be an object.');\n    }\n    config = vegaUtil.mergeConfig(defaults(), config, spec.config);\n    return parseView(spec, new Scope(config, options)).toRuntime();\n  }\n\n  exports.AxisDomainRole = AxisDomainRole;\n  exports.AxisGridRole = AxisGridRole;\n  exports.AxisLabelRole = AxisLabelRole;\n  exports.AxisRole = AxisRole;\n  exports.AxisTickRole = AxisTickRole;\n  exports.AxisTitleRole = AxisTitleRole;\n  exports.DataScope = DataScope;\n  exports.FrameRole = FrameRole;\n  exports.LegendEntryRole = LegendEntryRole;\n  exports.LegendLabelRole = LegendLabelRole;\n  exports.LegendRole = LegendRole;\n  exports.LegendSymbolRole = LegendSymbolRole;\n  exports.LegendTitleRole = LegendTitleRole;\n  exports.MarkRole = MarkRole;\n  exports.Scope = Scope;\n  exports.ScopeRole = ScopeRole;\n  exports.config = defaults;\n  exports.parse = parse;\n  exports.signal = parseSignal;\n  exports.signalUpdates = parseSignalUpdates;\n  exports.stream = parseStream;\n\n}));\n\n};"],
"names":["shadow$provide","global","require","module","exports","factory","define","amd","globalThis","self","vega","vegaUtil","vegaFunctions","vegaEventSelector","vegaScale","vegaDataflow","parseAutosize","spec","isObject","type","parsePadding","_","top","bottom","left","right","addEncode","object","name","value","set","isArray","length","update","addEncoders","enter","extendEncode","encode","extra","skip","hasOwnProperty","extend","has","key","applyDefaults","role","style","config","defaults","applyDefault","String","startsWith","props","FrameRole","group","MarkRole","mark","array","forEach","signal","entry$1","enc","gradient","c","_color","h","l","s","a","b","r","g","scale","scaleRef","range","undefined","band","property","exponent","mult","offset","round","args","start","stop","count","map","stringValue","peek","pop","unshift","join","field","ref","resolveField","datum","parent","level","Math","max","error","isString","splitAccessPath","rule","code","test","parseEncode","scope","params","encoders","$encode","channels","fields","block","parse$1","$expr","marktype","$fields","Object","keys","$output","expr","parseExpression","$params","outerError","prefix","parseSignal","OUTER","push","signals","OUTER_INVALID","prop","op","addSignal","react","bind","addBinding","Entry","id","$ref","refs","fieldRef$1","$field","$name","keyRef","flat","$key","$flat","aggrField","isSignal","hasSignal","specValue","defaultValue","deref","v","parseStream","stream","merge","method","mergeStream","nestedStream","eventStream","list","entry","streamParameters","addStream","Timer","event","throttle","between","filter","source","Scope$1","View","param","concat","markname","markrole","item","debounce","consume","parseUpdate","target","events","sources","parseSelector","isSubscope","mergeSources","OP_VALUE_EXPR","$value","signalRef","force","options","addUpdate","parseSignalUpdates","getSignal","init","initonly","on","parseLiteral","parseArray","dataLookupError","parseScaleDomain","domain","explicitDomain","multipleDomain","singularDomain","domainMin","domainMax","data","getData","isDiscrete","valuesRef","parseSort","sort","isQuantile","domainRef","extentRef","reduce","dom","d","FIELD_REF_ID","coll","Collect","$ingest","input","addDataPipeline","Sieve","ordinalMultipleDomain","quantileMultipleDomain","numericMultipleDomain","counts","f","countsRef","p","groupby","keyFieldRef","pulse","ops","MULTIDOMAIN_SORT_OPS","fieldRef","as","add","Aggregate","Values","sortRef","multidomain","values","MultiValues","extents","MultiExtent","parseScaleRange","scheme","extent","schemeExtent","schemeCount","step","rangeStep","parseParameter$1","guideGroup","GroupMark","interactive","lookup","dflt","isVertical","_.isVertical","Vertical","direction","symbolDirection","gradientDirection","gradientLength","_.gradientLength","gradientWidth","gradientThickness","_.gradientThickness","gradientHeight","entryColumns","_.entryColumns","columns","getEncoding","anchorExpr","e","m","Start","End","extendOffset","assign","guideMark","extras","Skip","legendGradient","userEncode","vertical","thickness","width","height","opacity","zero","x","y","encoder","one","fill","exit","stroke","strokeWidth","RectMark","LegendGradientRole","legendGradientDiscrete","dataRef","u","uu","vv","adjust","Value","LegendBandRole","from","legendGradientLabels","overlap","text","Label","fillOpacity","font","fontSize","fontStyle","fontWeight","limit","labelLimit","gradientLabelLimit","align","baseline","baselineExpr","alignExpr","labelOffset","gradientLabelOffset","separation","order","TextMark","LegendLabelRole","GuideLabelStyle","legendSymbolGroups","entries","symbolOffset","valueRef","xSignal","Offset","Size","yEncode","ncols","baseFill","baseStroke","symbolBaseFillColor","symbolBaseStrokeColor","shape","size","strokeDash","strokeDashOffset","LegendScales","symbols","SymbolMark","LegendSymbolRole","clip","labels","noBound","row","column","nrows","index","facet","Index","ScopeRole","marks","legendSymbolLayout","center","padding","legendTitle","orient","_anchor","anchor","exprAnchor","angle","exprAngle","exprAlign","exprBaseline","title","lineHeight","LegendTitleRole","GuideTitleStyle","path","sphere","getRole","indexOf","definition","zindex","aria","description","parseTransform","def","toLowerCase","parseParameters","proxy","t","metadata","n","i","pdef","parseParameter","parseIndexParameter","required","parseSubParameters","projectionRef","parameterValue","compareRef","exprRef","lookupRef","parseSubParameter","k","Params","parseData$1","getDataRef","aggregate","output","DataScope","aggr","fieldKey","addSortField","cache","ds","optype","Descending","parseFacet","PreFacet","Facet","subscope","fork","addData","subflow","$subflow","parse","toRuntime","parseSubflow","parseTrigger","remove","insert","toggle","modify","trigger","parseMark","layout","store","layoutRef","nested","DataJoin","clean","joinRef","Mark","markdef","context","$context","groups","markpath","markRef","Encode","mod","transform","tx","md","generates","changes","nomod","SortItems","encodeRef","ViewLayout","objectProperty","legends","bound","Bound","boundRef","operators","pushState","popState","parseOverlap","render","Render","sieve","sep","tol","tolerance","boundTolerance","boundScale","boundOrient","Overlap","parseLegend","legend","legendEncode","scales","entryLayout","legendType","scaleType","vgrad","entryRef","LegendEntries","minstep","tickMinStep","formatType","formatSpecifier","format","Gradient","children","Discrete","sizeExpression","LegendEntryRole","entryEncode","LegendRole","buildLegendEncode","Symbols","scaleCount","isContinuous","isDiscretizing","titlePadding","cornerRadius","getChannel","parseTitle","dx","dy","TitleTextRole","GroupTitleStyle","subtitle","TitleSubtitleRole","GroupSubtitleStyle","alignExpr$1","angleExpr","frame","TitleRole","parseData","transforms","analyze","generate","upstream","load","collect","$format","url","$request","modifies","Relay","derive","splice","Load","async","fallback","axisConfig","styleProp","slice","objects","obj","flushExpr","threshold","autoLayout","auto","dim","patch","autoY","autoX","ifX","parseScope","preprocessed","projections","projection","addProjection","isValidScaleType","addScale","getScale","interpolate","gamma","interpolateGamma","nice","interval","bins","axes","axis","axisBand","xyKeys","axisX","axisY","orientKeys","axisTop","axisBottom","axisLeft","axisRight","xy","or","$orient","Left","toExpr","Bottom","Right","Top","toUpperCase","result","axisEncode","ticks","grid","ticksRef","AxisTicks","tickCount","vscale","gridScale","sign","getSign","strokeCap","strokeOpacity","tickPos","sz","gridStart","gridEnd","ifY","x2","y2","RuleMark","AxisGridRole","tickSize","AxisTickRole","flush","flushOffset","labelAlign","labelBaseline","flushOn","ifExpr","ifTop","offsetExpr","AxisLabelRole","pos0","pos","pos1","AxisDomainRole","titlePos","AxisTitleRole","position","minExtent","maxExtent","translate","AxisRole","parseLambdas","parseView","root","collectSignals","eventConfig","locale","autosize","signalObject","pre","Scope","bindings","lambdas","streams","updates","_subid","_id","_nextsub","_parent","_encode","_lookup","_markpath","Subscope","create","propertyLambda","arrayLambda","objectLambda","background","allow","arc","defaultColor","area","image","line","defaultStrokeWidth","rect","black","symbol","defaultFont","trail","point","defaultSymbolSize","circle","square","cell","lightGray","view","subtitlePadding","bandPosition","domainWidth","domainColor","gray","gridWidth","gridColor","labelAngle","labelPadding","tickColor","tickOffset","tickRound","tickWidth","gridAlign","columnPadding","rowPadding","gradientStrokeColor","gradientStrokeWidth","labelOverlap","symbolLimit","symbolType","symbolSize","symbolStrokeWidth","titleLimit","titleOrient","category","ordinal","heatmap","ramp","diverging","z","ast","Compare","Expression","Field","Key","Projection","Proxy","Scale","min","Center","isR","alignFlip","isLR","isL","fromEntries","DataScope.fromEntries","prototype","agg","tuplesRef","indataRef","ifEnc","base","endsWith","finish","vref","annotate","cmp","check","orders","$compare","$order","sig","o","Ascending","hasOwnSignal","addScaleProj","projectionType","dataScope","mergeConfig","signalUpdates"]
}
